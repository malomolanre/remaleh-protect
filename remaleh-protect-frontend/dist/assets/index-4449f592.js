var Js=Object.defineProperty;var Qs=(s,t,a)=>t in s?Js(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var He=(s,t,a)=>(Qs(s,typeof t!="symbol"?t+"":t,a),a);import{r as i,a as Zs,R as Xs}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}})();var vs={exports:{}},Ue={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var et=i,st=Symbol.for("react.element"),tt=Symbol.for("react.fragment"),at=Object.prototype.hasOwnProperty,rt=et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lt={key:!0,ref:!0,__self:!0,__source:!0};function Ns(s,t,a){var r,l={},n=null,d=null;a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)at.call(t,r)&&!lt.hasOwnProperty(r)&&(l[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:st,type:s,key:n,ref:d,props:l,_owner:rt.current}}Ue.Fragment=tt;Ue.jsx=Ns;Ue.jsxs=Ns;vs.exports=Ue;var e=vs.exports,We={},rs=Zs;We.createRoot=rs.createRoot,We.hydrateRoot=rs.hydrateRoot;const nt="modulepreload",it=function(s){return"/"+s},ls={},ot=function(t,a,r){if(!a||a.length===0)return t();const l=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=it(n),n in ls)return;ls[n]=!0;const d=n.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(!!r)for(let j=l.length-1;j>=0;j--){const x=l[j];if(x.href===n&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const o=document.createElement("link");if(o.rel=d?"stylesheet":nt,d||(o.as="script",o.crossOrigin=""),o.href=n,document.head.appendChild(o),d)return new Promise((j,x)=>{o.addEventListener("load",j),o.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n})};var ns="popstate";function ct(s={}){function t(r,l){let{pathname:n,search:d,hash:c}=r.location;return Ke("",{pathname:n,search:d,hash:c},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(r,l){return typeof l=="string"?l:Ce(l)}return mt(t,a,null,s)}function H(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function ee(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dt(){return Math.random().toString(36).substring(2,10)}function is(s,t){return{usr:s.state,key:s.key,idx:t}}function Ke(s,t,a=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?be(t):t,state:a,key:t&&t.key||r||dt()}}function Ce({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function be(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function mt(s,t,a,r={}){let{window:l=document.defaultView,v5Compat:n=!1}=r,d=l.history,c="POP",m=null,o=j();o==null&&(o=0,d.replaceState({...d.state,idx:o},""));function j(){return(d.state||{idx:null}).idx}function x(){c="POP";let b=j(),k=b==null?null:b-o;o=b,m&&m({action:c,location:g.location,delta:k})}function y(b,k){c="PUSH";let h=Ke(g.location,b,k);a&&a(h,b),o=j()+1;let _=is(h,o),T=g.createHref(h);try{d.pushState(_,"",T)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;l.location.assign(T)}n&&m&&m({action:c,location:g.location,delta:1})}function w(b,k){c="REPLACE";let h=Ke(g.location,b,k);a&&a(h,b),o=j();let _=is(h,o),T=g.createHref(h);d.replaceState(_,"",T),n&&m&&m({action:c,location:g.location,delta:0})}function p(b){return ut(b)}let g={get action(){return c},get location(){return s(l,d)},listen(b){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(ns,x),m=b,()=>{l.removeEventListener(ns,x),m=null}},createHref(b){return t(l,b)},createURL:p,encodeLocation(b){let k=p(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:w,go(b){return d.go(b)}};return g}function ut(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),H(a,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Ce(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function ws(s,t,a="/"){return ht(s,t,a,!1)}function ht(s,t,a,r){let l=typeof t=="string"?be(t):t,n=re(l.pathname||"/",a);if(n==null)return null;let d=ks(s);xt(d);let c=null;for(let m=0;c==null&&m<d.length;++m){let o=Ct(n);c=wt(d[m],o,r)}return c}function ks(s,t=[],a=[],r=""){let l=(n,d,c)=>{let m={relativePath:c===void 0?n.path||"":c,caseSensitive:n.caseSensitive===!0,childrenIndex:d,route:n};m.relativePath.startsWith("/")&&(H(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let o=ae([r,m.relativePath]),j=a.concat(m);n.children&&n.children.length>0&&(H(n.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),ks(n.children,t,j,o)),!(n.path==null&&!n.index)&&t.push({path:o,score:vt(o,n.index),routesMeta:j})};return s.forEach((n,d)=>{var c;if(n.path===""||!((c=n.path)!=null&&c.includes("?")))l(n,d);else for(let m of Cs(n.path))l(n,d,m)}),t}function Cs(s){let t=s.split("/");if(t.length===0)return[];let[a,...r]=t,l=a.endsWith("?"),n=a.replace(/\?$/,"");if(r.length===0)return l?[n,""]:[n];let d=Cs(r.join("/")),c=[];return c.push(...d.map(m=>m===""?n:[n,m].join("/"))),l&&c.push(...d),c.map(m=>s.startsWith("/")&&m===""?"/":m)}function xt(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:Nt(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var pt=/^:[\w-]+$/,gt=3,ft=2,bt=1,yt=10,jt=-2,os=s=>s==="*";function vt(s,t){let a=s.split("/"),r=a.length;return a.some(os)&&(r+=jt),t&&(r+=ft),a.filter(l=>!os(l)).reduce((l,n)=>l+(pt.test(n)?gt:n===""?bt:yt),r)}function Nt(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function wt(s,t,a=!1){let{routesMeta:r}=s,l={},n="/",d=[];for(let c=0;c<r.length;++c){let m=r[c],o=c===r.length-1,j=n==="/"?t:t.slice(n.length)||"/",x=Le({path:m.relativePath,caseSensitive:m.caseSensitive,end:o},j),y=m.route;if(!x&&o&&a&&!r[r.length-1].route.index&&(x=Le({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},j)),!x)return null;Object.assign(l,x.params),d.push({params:l,pathname:ae([n,x.pathname]),pathnameBase:At(ae([n,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(n=ae([n,x.pathnameBase]))}return d}function Le(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,r]=kt(s.path,s.caseSensitive,s.end),l=t.match(a);if(!l)return null;let n=l[0],d=n.replace(/(.)\/+$/,"$1"),c=l.slice(1);return{params:r.reduce((o,{paramName:j,isOptional:x},y)=>{if(j==="*"){let p=c[y]||"";d=n.slice(0,n.length-p.length).replace(/(.)\/+$/,"$1")}const w=c[y];return x&&!w?o[j]=void 0:o[j]=(w||"").replace(/%2F/g,"/"),o},{}),pathname:n,pathnameBase:d,pattern:s}}function kt(s,t=!1,a=!0){ee(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,c,m)=>(r.push({paramName:c,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Ct(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ee(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function re(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=s.charAt(a);return r&&r!=="/"?null:s.slice(a)||"/"}function St(s,t="/"){let{pathname:a,search:r="",hash:l=""}=typeof s=="string"?be(s):s;return{pathname:a?a.startsWith("/")?a:Et(a,t):t,search:_t(r),hash:Tt(l)}}function Et(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function ze(s,t,a,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rt(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Ss(s){let t=Rt(s);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function Es(s,t,a,r=!1){let l;typeof s=="string"?l=be(s):(l={...s},H(!l.pathname||!l.pathname.includes("?"),ze("?","pathname","search",l)),H(!l.pathname||!l.pathname.includes("#"),ze("#","pathname","hash",l)),H(!l.search||!l.search.includes("#"),ze("#","search","hash",l)));let n=s===""||l.pathname==="",d=n?"/":l.pathname,c;if(d==null)c=a;else{let x=t.length-1;if(!r&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),x-=1;l.pathname=y.join("/")}c=x>=0?t[x]:"/"}let m=St(l,c),o=d&&d!=="/"&&d.endsWith("/"),j=(n||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(o||j)&&(m.pathname+="/"),m}var ae=s=>s.join("/").replace(/\/\/+/g,"/"),At=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),_t=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Tt=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Mt(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Rs=["POST","PUT","PATCH","DELETE"];new Set(Rs);var It=["GET",...Rs];new Set(It);var ye=i.createContext(null);ye.displayName="DataRouter";var Oe=i.createContext(null);Oe.displayName="DataRouterState";i.createContext(!1);var As=i.createContext({isTransitioning:!1});As.displayName="ViewTransition";var Pt=i.createContext(new Map);Pt.displayName="Fetchers";var Lt=i.createContext(null);Lt.displayName="Await";var se=i.createContext(null);se.displayName="Navigation";var Se=i.createContext(null);Se.displayName="Location";var le=i.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var Ye=i.createContext(null);Ye.displayName="RouteError";function Dt(s,{relative:t}={}){H(Ee(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=i.useContext(se),{hash:l,pathname:n,search:d}=Re(s,{relative:t}),c=n;return a!=="/"&&(c=n==="/"?a:ae([a,n])),r.createHref({pathname:c,search:d,hash:l})}function Ee(){return i.useContext(Se)!=null}function ue(){return H(Ee(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(Se).location}var _s="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ts(s){i.useContext(se).static||i.useLayoutEffect(s)}function $t(){let{isDataRoute:s}=i.useContext(le);return s?Jt():Ut()}function Ut(){H(Ee(),"useNavigate() may be used only in the context of a <Router> component.");let s=i.useContext(ye),{basename:t,navigator:a}=i.useContext(se),{matches:r}=i.useContext(le),{pathname:l}=ue(),n=JSON.stringify(Ss(r)),d=i.useRef(!1);return Ts(()=>{d.current=!0}),i.useCallback((m,o={})=>{if(ee(d.current,_s),!d.current)return;if(typeof m=="number"){a.go(m);return}let j=Es(m,JSON.parse(n),l,o.relative==="path");s==null&&t!=="/"&&(j.pathname=j.pathname==="/"?t:ae([t,j.pathname])),(o.replace?a.replace:a.push)(j,o.state,o)},[t,a,n,l,s])}i.createContext(null);function Re(s,{relative:t}={}){let{matches:a}=i.useContext(le),{pathname:r}=ue(),l=JSON.stringify(Ss(a));return i.useMemo(()=>Es(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function Ot(s,t,a,r){var k;H(Ee(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=i.useContext(se),{matches:n}=i.useContext(le),d=n[n.length-1],c=d?d.params:{},m=d?d.pathname:"/",o=d?d.pathnameBase:"/",j=d&&d.route;{let h=j&&j.path||"";Ms(m,!j||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let x=ue(),y;if(t){let h=typeof t=="string"?be(t):t;H(o==="/"||((k=h.pathname)==null?void 0:k.startsWith(o)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${o}" but pathname "${h.pathname}" was given in the \`location\` prop.`),y=h}else y=x;let w=y.pathname||"/",p=w;if(o!=="/"){let h=o.replace(/^\//,"").split("/");p="/"+w.replace(/^\//,"").split("/").slice(h.length).join("/")}let g=ws(s,{pathname:p});ee(j||g!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ee(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Gt(g&&g.map(h=>Object.assign({},h,{params:Object.assign({},c,h.params),pathname:ae([o,l.encodeLocation?l.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?o:ae([o,l.encodeLocation?l.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),n,a,r);return t&&b?i.createElement(Se.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function Ft(){let s=Yt(),t=Mt(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},n={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=i.createElement(i.Fragment,null,i.createElement("p",null,"💿 Hey developer 👋"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:n},"ErrorBoundary")," or"," ",i.createElement("code",{style:n},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),a?i.createElement("pre",{style:l},a):null,d)}var Bt=i.createElement(Ft,null),Ht=class extends i.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?i.createElement(le.Provider,{value:this.props.routeContext},i.createElement(Ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zt({routeContext:s,match:t,children:a}){let r=i.useContext(ye);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),i.createElement(le.Provider,{value:s},a)}function Gt(s,t=[],a=null,r=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let l=s,n=a==null?void 0:a.errors;if(n!=null){let m=l.findIndex(o=>o.route.id&&(n==null?void 0:n[o.route.id])!==void 0);H(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,c=-1;if(a)for(let m=0;m<l.length;m++){let o=l[m];if((o.route.HydrateFallback||o.route.hydrateFallbackElement)&&(c=m),o.route.id){let{loaderData:j,errors:x}=a,y=o.route.loader&&!j.hasOwnProperty(o.route.id)&&(!x||x[o.route.id]===void 0);if(o.route.lazy||y){d=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((m,o,j)=>{let x,y=!1,w=null,p=null;a&&(x=n&&o.route.id?n[o.route.id]:void 0,w=o.route.errorElement||Bt,d&&(c<0&&j===0?(Ms("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,p=null):c===j&&(y=!0,p=o.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,j+1)),b=()=>{let k;return x?k=w:y?k=p:o.route.Component?k=i.createElement(o.route.Component,null):o.route.element?k=o.route.element:k=m,i.createElement(zt,{match:o,routeContext:{outlet:m,matches:g,isDataRoute:a!=null},children:k})};return a&&(o.route.ErrorBoundary||o.route.errorElement||j===0)?i.createElement(Ht,{location:a.location,revalidation:a.revalidation,component:w,error:x,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function Je(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vt(s){let t=i.useContext(ye);return H(t,Je(s)),t}function qt(s){let t=i.useContext(Oe);return H(t,Je(s)),t}function Wt(s){let t=i.useContext(le);return H(t,Je(s)),t}function Qe(s){let t=Wt(s),a=t.matches[t.matches.length-1];return H(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function Kt(){return Qe("useRouteId")}function Yt(){var r;let s=i.useContext(Ye),t=qt("useRouteError"),a=Qe("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[a]}function Jt(){let{router:s}=Vt("useNavigate"),t=Qe("useNavigate"),a=i.useRef(!1);return Ts(()=>{a.current=!0}),i.useCallback(async(l,n={})=>{ee(a.current,_s),a.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...n}))},[s,t])}var cs={};function Ms(s,t,a){!t&&!cs[s]&&(cs[s]=!0,ee(!1,a))}i.memo(Qt);function Qt({routes:s,future:t,state:a}){return Ot(s,void 0,a,t)}function Zt({basename:s="/",children:t=null,location:a,navigationType:r="POP",navigator:l,static:n=!1}){H(!Ee(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:d,navigator:l,static:n,future:{}}),[d,l,n]);typeof a=="string"&&(a=be(a));let{pathname:m="/",search:o="",hash:j="",state:x=null,key:y="default"}=a,w=i.useMemo(()=>{let p=re(m,d);return p==null?null:{location:{pathname:p,search:o,hash:j,state:x,key:y},navigationType:r}},[d,m,o,j,x,y,r]);return ee(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${o}${j}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:i.createElement(se.Provider,{value:c},i.createElement(Se.Provider,{children:t,value:w}))}var Me="get",Ie="application/x-www-form-urlencoded";function Fe(s){return s!=null&&typeof s.tagName=="string"}function Xt(s){return Fe(s)&&s.tagName.toLowerCase()==="button"}function ea(s){return Fe(s)&&s.tagName.toLowerCase()==="form"}function sa(s){return Fe(s)&&s.tagName.toLowerCase()==="input"}function ta(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function aa(s,t){return s.button===0&&(!t||t==="_self")&&!ta(s)}var _e=null;function ra(){if(_e===null)try{new FormData(document.createElement("form"),0),_e=!1}catch{_e=!0}return _e}var la=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ge(s){return s!=null&&!la.has(s)?(ee(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ie}"`),null):s}function na(s,t){let a,r,l,n,d;if(ea(s)){let c=s.getAttribute("action");r=c?re(c,t):null,a=s.getAttribute("method")||Me,l=Ge(s.getAttribute("enctype"))||Ie,n=new FormData(s)}else if(Xt(s)||sa(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||c.getAttribute("action");if(r=m?re(m,t):null,a=s.getAttribute("formmethod")||c.getAttribute("method")||Me,l=Ge(s.getAttribute("formenctype"))||Ge(c.getAttribute("enctype"))||Ie,n=new FormData(c,s),!ra()){let{name:o,type:j,value:x}=s;if(j==="image"){let y=o?`${o}.`:"";n.append(`${y}x`,"0"),n.append(`${y}y`,"0")}else o&&n.append(o,x)}}else{if(Fe(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Me,r=null,l=Ie,d=s}return n&&l==="text/plain"&&(d=n,n=void 0),{action:r,method:a.toLowerCase(),encType:l,formData:n,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ze(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function ia(s,t,a){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&re(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function oa(s,t){if(s.id in t)return t[s.id];try{let a=await ot(()=>import(s.module),[]);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ca(s){return s!=null&&typeof s.page=="string"}function da(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function ma(s,t,a){let r=await Promise.all(s.map(async l=>{let n=t.routes[l.route.id];if(n){let d=await oa(n,a);return d.links?d.links():[]}return[]}));return pa(r.flat(1).filter(da).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ds(s,t,a,r,l,n){let d=(m,o)=>a[o]?m.route.id!==a[o].route.id:!0,c=(m,o)=>{var j;return a[o].pathname!==m.pathname||((j=a[o].route.path)==null?void 0:j.endsWith("*"))&&a[o].params["*"]!==m.params["*"]};return n==="assets"?t.filter((m,o)=>d(m,o)||c(m,o)):n==="data"?t.filter((m,o)=>{var x;let j=r.routes[m.route.id];if(!j||!j.hasLoader)return!1;if(d(m,o)||c(m,o))return!0;if(m.route.shouldRevalidate){let y=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=a[0])==null?void 0:x.params)||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function ua(s,t,{includeHydrateFallback:a}={}){return ha(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let n=[l.module];return l.clientActionModule&&(n=n.concat(l.clientActionModule)),l.clientLoaderModule&&(n=n.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(n=n.concat(l.hydrateFallbackModule)),l.imports&&(n=n.concat(l.imports)),n}).flat(1))}function ha(s){return[...new Set(s)]}function xa(s){let t={},a=Object.keys(s).sort();for(let r of a)t[r]=s[r];return t}function pa(s,t){let a=new Set,r=new Set(t);return s.reduce((l,n)=>{if(t&&!ca(n)&&n.as==="script"&&n.href&&r.has(n.href))return l;let c=JSON.stringify(xa(n));return a.has(c)||(a.add(c),l.push({key:c,link:n})),l},[])}function Is(){let s=i.useContext(ye);return Ze(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ga(){let s=i.useContext(Oe);return Ze(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Xe=i.createContext(void 0);Xe.displayName="FrameworkContext";function Ps(){let s=i.useContext(Xe);return Ze(s,"You must render this element inside a <HydratedRouter> element"),s}function fa(s,t){let a=i.useContext(Xe),[r,l]=i.useState(!1),[n,d]=i.useState(!1),{onFocus:c,onBlur:m,onMouseEnter:o,onMouseLeave:j,onTouchStart:x}=t,y=i.useRef(null);i.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let g=k=>{k.forEach(h=>{d(h.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[s]),i.useEffect(()=>{if(r){let g=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(g)}}},[r]);let w=()=>{l(!0)},p=()=>{l(!1),d(!1)};return a?s!=="intent"?[n,y,{}]:[n,y,{onFocus:ve(c,w),onBlur:ve(m,p),onMouseEnter:ve(o,w),onMouseLeave:ve(j,p),onTouchStart:ve(x,w)}]:[!1,y,{}]}function ve(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function ba({page:s,...t}){let{router:a}=Is(),r=i.useMemo(()=>ws(a.routes,s,a.basename),[a.routes,s,a.basename]);return r?i.createElement(ja,{page:s,matches:r,...t}):null}function ya(s){let{manifest:t,routeModules:a}=Ps(),[r,l]=i.useState([]);return i.useEffect(()=>{let n=!1;return ma(s,t,a).then(d=>{n||l(d)}),()=>{n=!0}},[s,t,a]),r}function ja({page:s,matches:t,...a}){let r=ue(),{manifest:l,routeModules:n}=Ps(),{basename:d}=Is(),{loaderData:c,matches:m}=ga(),o=i.useMemo(()=>ds(s,t,m,l,r,"data"),[s,t,m,l,r]),j=i.useMemo(()=>ds(s,t,m,l,r,"assets"),[s,t,m,l,r]),x=i.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(t.forEach(k=>{var _;let h=l.routes[k.route.id];!h||!h.hasLoader||(!o.some(T=>T.route.id===k.route.id)&&k.route.id in c&&((_=n[k.route.id])!=null&&_.shouldRevalidate)||h.hasClientLoader?g=!0:p.add(k.route.id))}),p.size===0)return[];let b=ia(s,d,"data");return g&&p.size>0&&b.searchParams.set("_routes",t.filter(k=>p.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[d,c,r,l,o,t,s,n]),y=i.useMemo(()=>ua(j,l),[j,l]),w=ya(j);return i.createElement(i.Fragment,null,x.map(p=>i.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...a})),y.map(p=>i.createElement("link",{key:p,rel:"modulepreload",href:p,...a})),w.map(({key:p,link:g})=>i.createElement("link",{key:p,nonce:a.nonce,...g})))}function va(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Ls=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ls&&(window.__reactRouterVersion="7.8.0")}catch{}function Na({basename:s,children:t,window:a}){let r=i.useRef();r.current==null&&(r.current=ct({window:a,v5Compat:!0}));let l=r.current,[n,d]=i.useState({action:l.action,location:l.location}),c=i.useCallback(m=>{i.startTransition(()=>d(m))},[d]);return i.useLayoutEffect(()=>l.listen(c),[l,c]),i.createElement(Zt,{basename:s,children:t,location:n.location,navigationType:n.action,navigator:l})}var Ds=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$s=i.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:l,reloadDocument:n,replace:d,state:c,target:m,to:o,preventScrollReset:j,viewTransition:x,...y},w){let{basename:p}=i.useContext(se),g=typeof o=="string"&&Ds.test(o),b,k=!1;if(typeof o=="string"&&g&&(b=o,Ls))try{let A=new URL(window.location.href),M=o.startsWith("//")?new URL(A.protocol+o):new URL(o),R=re(M.pathname,p);M.origin===A.origin&&R!=null?o=R+M.search+M.hash:k=!0}catch{ee(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=Dt(o,{relative:l}),[_,T,v]=fa(r,y),u=Sa(o,{replace:d,state:c,target:m,preventScrollReset:j,relative:l,viewTransition:x});function C(A){t&&t(A),A.defaultPrevented||u(A)}let S=i.createElement("a",{...y,...v,href:b||h,onClick:k||n?t:C,ref:va(w,T),target:m,"data-discover":!g&&a==="render"?"true":void 0});return _&&!g?i.createElement(i.Fragment,null,S,i.createElement(ba,{page:h})):S});$s.displayName="Link";var wa=i.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:l=!1,style:n,to:d,viewTransition:c,children:m,...o},j){let x=Re(d,{relative:o.relative}),y=ue(),w=i.useContext(Oe),{navigator:p,basename:g}=i.useContext(se),b=w!=null&&Ta(x)&&c===!0,k=p.encodeLocation?p.encodeLocation(x).pathname:x.pathname,h=y.pathname,_=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(h=h.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&g&&(_=re(_,g)||_);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let v=h===k||!l&&h.startsWith(k)&&h.charAt(T)==="/",u=_!=null&&(_===k||!l&&_.startsWith(k)&&_.charAt(k.length)==="/"),C={isActive:v,isPending:u,isTransitioning:b},S=v?t:void 0,A;typeof r=="function"?A=r(C):A=[r,v?"active":null,u?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof n=="function"?n(C):n;return i.createElement($s,{...o,"aria-current":S,className:A,ref:j,style:M,to:d,viewTransition:c},typeof m=="function"?m(C):m)});wa.displayName="NavLink";var ka=i.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:l,state:n,method:d=Me,action:c,onSubmit:m,relative:o,preventScrollReset:j,viewTransition:x,...y},w)=>{let p=Aa(),g=_a(c,{relative:o}),b=d.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&Ds.test(c),h=_=>{if(m&&m(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,v=(T==null?void 0:T.getAttribute("formmethod"))||d;p(T||_.currentTarget,{fetcherKey:t,method:v,navigate:a,replace:l,state:n,relative:o,preventScrollReset:j,viewTransition:x})};return i.createElement("form",{ref:w,method:b,action:g,onSubmit:r?m:h,...y,"data-discover":!k&&s==="render"?"true":void 0})});ka.displayName="Form";function Ca(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Us(s){let t=i.useContext(ye);return H(t,Ca(s)),t}function Sa(s,{target:t,replace:a,state:r,preventScrollReset:l,relative:n,viewTransition:d}={}){let c=$t(),m=ue(),o=Re(s,{relative:n});return i.useCallback(j=>{if(aa(j,t)){j.preventDefault();let x=a!==void 0?a:Ce(m)===Ce(o);c(s,{replace:x,state:r,preventScrollReset:l,relative:n,viewTransition:d})}},[m,c,o,a,r,t,s,l,n,d])}var Ea=0,Ra=()=>`__${String(++Ea)}__`;function Aa(){let{router:s}=Us("useSubmit"),{basename:t}=i.useContext(se),a=Kt();return i.useCallback(async(r,l={})=>{let{action:n,method:d,encType:c,formData:m,body:o}=na(r,t);if(l.navigate===!1){let j=l.fetcherKey||Ra();await s.fetch(j,a,l.action||n,{preventScrollReset:l.preventScrollReset,formData:m,body:o,formMethod:l.method||d,formEncType:l.encType||c,flushSync:l.flushSync})}else await s.navigate(l.action||n,{preventScrollReset:l.preventScrollReset,formData:m,body:o,formMethod:l.method||d,formEncType:l.encType||c,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,a])}function _a(s,{relative:t}={}){let{basename:a}=i.useContext(se),r=i.useContext(le);H(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),n={...Re(s||".",{relative:t})},d=ue();if(s==null){n.search=d.search;let c=new URLSearchParams(n.search),m=c.getAll("index");if(m.some(j=>j==="")){c.delete("index"),m.filter(x=>x).forEach(x=>c.append("index",x));let j=c.toString();n.search=j?`?${j}`:""}}return(!s||s===".")&&l.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(n.pathname=n.pathname==="/"?a:ae([a,n.pathname])),Ce(n)}function Ta(s,{relative:t}={}){let a=i.useContext(As);H(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Us("useViewTransitionState"),l=Re(s,{relative:t});if(!a.isTransitioning)return!1;let n=re(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=re(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Le(l.pathname,d)!=null||Le(l.pathname,n)!=null}function U({variant:s="primary",size:t="md",children:a,className:r="",disabled:l=!1,loading:n=!1,...d}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-gradient-to-r from-[#21a1ce] to-[#1a80a3] text-white hover:shadow-lg focus:ring-[#21a1ce]",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-600",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-600",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-600",outline:"border-2 border-[#21a1ce] text-[#21a1ce] hover:bg-[#21a1ce] hover:text-white focus:ring-[#21a1ce]"},o={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"},j=`${c} ${m[s]} ${o[t]} ${r}`.trim();return e.jsxs("button",{className:j,disabled:l||n,...d,children:[n&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a]})}class Ma extends i.Component{constructor(a){super(a);He(this,"handleReload",()=>{window.location.reload()});He(this,"handleGoHome",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,r){this.setState({error:a,errorInfo:r})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600",children:"We're sorry, but something unexpected happened. Please try again."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(U,{onClick:this.handleReload,variant:"primary",className:"w-full",children:"Reload Page"}),e.jsx(U,{onClick:this.handleGoHome,variant:"outline",className:"w-full",children:"Go to Home"})]}),!1]})}):this.props.children}}var Ia={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pa=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),La=(s,t)=>{const a=i.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:d,children:c,...m},o)=>i.createElement("svg",{ref:o,...Ia,width:l,height:l,stroke:r,strokeWidth:d?Number(n)*24/Number(l):n,className:`lucide lucide-${Pa(s)}`,...m},[...t.map(([j,x])=>i.createElement(j,x)),...(Array.isArray(c)?c:[c])||[]]));return a.displayName=`${s}`,a};var $=La;const ms=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Z=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Da=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),$a=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ua=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),we=$("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ke=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Oa=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Fa=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ba=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ha=$("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),za=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),us=$("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),hs=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Ga=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xs=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),de=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Va=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),qa=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),me=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),es=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),De=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Wa=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Y=$("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ka=$("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ya=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ve=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ja=$("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),Qa=$("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),fe=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ss=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Be=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ts=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ie="https://api.remalehprotect.remaleh.com.au",I={AUTH:{REGISTER:"/api/auth/register",LOGIN:"/api/auth/login",PROFILE:"/api/auth/profile",REFRESH:"/api/auth/refresh",LOGOUT:"/api/auth/logout",CHANGE_PASSWORD:"/api/auth/change-password"},ADMIN:{USERS:"/api/admin/users",CREATE_USER:"/api/admin/users",USER_DETAILS:"/api/admin/users",USER_UPDATE:"/api/admin/users",USER_SUSPEND:"/api/admin/users",USER_ACTIVATE:"/api/admin/users",USER_DELETE:"/api/admin/users",USER_RESET_PASSWORD:"/api/admin/users",BULK_ACTION:"/api/admin/users/bulk-action",BULK_RESET_PASSWORD:"/api/admin/users/bulk-reset-password",DASHBOARD:"/api/admin/dashboard",MAINTENANCE:"/api/admin/maintenance",COMMUNITY_REPORTS:"/api/admin/community-reports",COMMUNITY_REPORTS_VERIFY:"/api/admin/community-reports",COMMUNITY_REPORTS_REJECT:"/api/admin/community-reports",COMMUNITY_REPORTS_ESCALATE:"/api/admin/community-reports",COMMUNITY_REPORTS_DELETE:"/api/admin/community-reports",COMMUNITY_REPORTS_BULK_ACTION:"/api/admin/community-reports/bulk-action"},THREAT_INTELLIGENCE:{DASHBOARD:"/api/threat_intelligence/dashboard",THREATS:"/api/threat_intelligence/threats",ALERTS:"/api/threat_intelligence/alerts",TRENDS:"/api/threat_intelligence/stats/trends"},RISK_PROFILE:{PROFILE:"/api/risk_profile/profile",SCANS:"/api/risk_profile/scans",LEARNING:"/api/risk_profile/learning/modules",RECOMMENDATIONS:"/api/risk_profile/recommendations"},COMMUNITY:{REPORTS:"/api/community/reports",TRENDING:"/api/community/trending",STATS:"/api/community/stats",ALERTS:"/api/community/alerts"},SCAM:"/api/scam/comprehensive",BREACH:"/api/breach/check",LINK:"/api/link/analyze",CHAT:"/api/chat/"},Ae=async(s,t={})=>{const a=localStorage.getItem("authToken"),r={headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}},...t};try{const l=await fetch(`${ie}${s}`,r);if(!l.ok){if(l.status===401){const n=localStorage.getItem("refreshToken");if(n){const d=await fetch(`${ie}${I.AUTH.REFRESH}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:n})});if(d.ok){const{access_token:c}=await d.json();return localStorage.setItem("authToken",c),r.headers.Authorization=`Bearer ${c}`,await fetch(`${ie}${s}`,r)}}localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken")}throw new Error(`HTTP error! status: ${l.status}`)}return l}catch(l){throw console.error("API call failed:",l),l}},J=s=>Ae(s,{method:"GET"}),q=(s,t)=>Ae(s,{method:"POST",body:JSON.stringify(t)}),$e=(s,t)=>Ae(s,{method:"PUT",body:JSON.stringify(t)}),ps=s=>Ae(s,{method:"DELETE"}),B={get:s=>J(s),post:(s,t)=>q(s,t),put:(s,t)=>$e(s,t),delete:s=>ps(s),request:s=>{const{method:t="GET",url:a,data:r,...l}=s;return t==="GET"?J(a):t==="POST"?q(a,r):t==="PUT"?$e(a,r):t==="DELETE"?ps(a):Ae(a,{method:t,body:r?JSON.stringify(r):void 0,...l})}};function Za(){const[s,t]=i.useState(!1),[a,r]=i.useState(null);return{isChecking:s,result:a,check:async n=>{if(!n||!n.trim())return null;t(!0),r(null);try{const d=await fetch(`${ie}/api/breach/check`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.trim().toLowerCase()})});if(!d.ok)throw new Error(`HTTP ${d.status}`);const c=await d.json();return r(c),c}catch{return r({error:!0,message:"Unable to check breaches at this time."}),null}finally{t(!1)}}}}function Os(s={},t={}){const[a,r]=i.useState(s),[l,n]=i.useState({}),[d,c]=i.useState({}),[m,o]=i.useState(!1),j=i.useCallback((h,_)=>{r(T=>({...T,[h]:_})),l[h]&&n(T=>({...T,[h]:""})),c(T=>({...T,[h]:!0}))},[l]),x=i.useCallback(h=>{if(c(_=>({..._,[h]:!0})),t[h]){const _=t[h](a[h]);n(T=>({...T,[h]:_}))}},[t,a]),y=i.useCallback(h=>{if(t[h]){const _=t[h](a[h]);return n(T=>({...T,[h]:_})),_}return null},[t,a]),w=i.useCallback(()=>{const h={};let _=!0;return Object.keys(t).forEach(T=>{const v=t[T](a[T]);v&&(h[T]=v,_=!1)}),n(h),_},[t,a]),p=i.useCallback(()=>{r(s),n({}),c({}),o(!1)},[s]),g=i.useCallback((h,_)=>{r(T=>({...T,[h]:_}))},[]),b=i.useCallback((h,_)=>{n(T=>({...T,[h]:_}))},[]),k=i.useCallback(async h=>{if(!w())return!1;o(!0);try{return await h(a),!0}catch(_){return console.error("Form submission error:",_),!1}finally{o(!1)}},[w,a]);return{values:a,errors:l,touched:d,isSubmitting:m,handleChange:j,handleBlur:x,validateField:y,validateForm:w,resetForm:p,setFieldValue:g,setFieldError:b,handleSubmit:k,setValues:r,setErrors:n}}const Xa=s=>s?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?null:"Please enter a valid email address":"Email is required",er=(s,t)=>!s||typeof s=="string"&&s.trim()===""?`${t} is required`:null;function L({children:s,className:t="",padding:a="p-4",shadow:r="shadow-sm",hover:l=!1,onClick:n,interactive:d=!1,...c}){const y=`bg-white rounded-xl border border-gray-200 ${r==="shadow"?"shadow":r==="shadow-lg"?"shadow-lg":"shadow-sm"} ${l?"hover:shadow-lg transition-all duration-200":""} ${d?"active:scale-95 transition-transform duration-100":""} ${a} ${t}`.trim(),w=n?"button":"div";return e.jsx(w,{className:y,onClick:n,...c,children:s})}function V({children:s,className:t=""}){return e.jsx("div",{className:`mb-3 ${t}`,children:s})}function K({children:s,className:t=""}){return e.jsx("div",{className:t,children:s})}function te({label:s,error:t,helperText:a,fullWidth:r=!1,className:l="",...n}){const d=`w-full px-4 py-3 text-base border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 ${t?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${r?"w-full":""} ${l}`;return e.jsxs("div",{className:`${r?"w-full":""}`,children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s}),e.jsx("input",{className:d,...n}),t&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),a&&!t&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})}function Pe({label:s,error:t,helperText:a,fullWidth:r=!1,rows:l=4,className:n="",...d}){const c=`w-full px-4 py-3 text-base border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 resize-none ${t?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${r?"w-full":""} ${n}`;return e.jsxs("div",{className:`${r?"w-full":""}`,children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s}),e.jsx("textarea",{className:c,rows:l,...d}),t&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),a&&!t&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]})}const sr=16,X={lower:"abcdefghjkmnpqrstuvwxyz",upper:"ABCDEFGHJKMNPQRSTUVWXYZ",digits:"23456789",symbols:"!@#$%^&*()-_=+[]{};:,.?/|~",similar:"ilIoO01"};function qe(s){const t=new Uint32Array(s);return crypto.getRandomValues(t),t}function Fs(s){let t="";return s.lower&&(t+=X.lower+(s.similar?"il":"")),s.upper&&(t+=X.upper+(s.similar?"IO":"")),s.digits&&(t+=(s.similar?"01":"")+X.digits),s.symbols&&(t+=X.symbols),s.ambiguous&&(t+="{}[]()/\\\\'\\\"`~,;:.<>"),s.similar||(t=[...t].filter(a=>!X.similar.includes(a)).join("")),t}function tr(s,t){const a=Fs(t);if(!a.length)throw new Error("No character sets selected");const r=[];t.lower&&r.push(X.lower),t.upper&&r.push(X.upper),t.digits&&r.push(t.similar?X.digits+"01":X.digits),t.symbols&&r.push(X.symbols),t.ambiguous&&r.push("{}[]()/\\\\'\\\"`~,;:.<>");const l=[];r.forEach(c=>{const m=qe(1)[0]%c.length;l.push(c[m])});const n=Math.max(s-l.length,0),d=qe(n);for(let c=0;c<n;c++){const m=d[c]%a.length;l.push(a[m])}for(let c=l.length-1;c>0;c--){const m=qe(1)[0]%(c+1);[l[c],l[m]]=[l[m],l[c]]}return l.join("")}function ar(s,t){const a=Fs(t),r=Math.max(a.length,1);return Math.round(s*Math.log2(r))}function rr({bits:s}){let t="Weak",a=25;return s>=80?(t="Very strong",a=100):s>=60?(t="Strong",a=75):s>=40&&(t="Okay",a=50),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded",children:e.jsx("div",{className:`h-2 rounded ${a>=75?"bg-green-500":a>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${a}%`}})}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Strength: ",t," (",s," bits)"]})]})}function lr({onUse:s}){const[t,a]=i.useState(sr),[r,l]=i.useState({lower:!0,upper:!0,digits:!0,symbols:!0,ambiguous:!1,similar:!1}),[n,d]=i.useState(""),[c,m]=i.useState(!1),o=i.useRef(null),j=i.useMemo(()=>ar(t,r),[t,r]);function x(g){l(b=>({...b,[g]:!b[g]}))}function y(){try{const g=tr(t,r);d(g),m(!1)}catch(g){console.error("Failed to generate password:",g)}}async function w(){if(n)try{await navigator.clipboard.writeText(n),m(!0),setTimeout(()=>m(!1),2e3)}catch(g){console.error("Failed to copy password:",g)}}function p(){s&&n&&s(n)}return e.jsxs(L,{className:"mb-6",children:[e.jsxs(V,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),"Password Generator"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generate secure, random passwords"})]}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Password"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(te,{ref:o,value:n,readOnly:!0,className:"flex-1 font-mono text-sm",placeholder:"Click 'Generate' to create a password"}),e.jsx(U,{onClick:w,variant:"outline",size:"sm",className:"px-3",children:c?"Copied!":"Copy"})]}),n&&e.jsx(rr,{bits:j})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password Length: ",t]}),e.jsx("input",{type:"range",min:"8",max:"64",value:t,onChange:g=>a(parseInt(g.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"8"}),e.jsx("span",{children:"16"}),e.jsx("span",{children:"32"}),e.jsx("span",{children:"64"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Character Sets"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(r).map(([g,b])=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:()=>x(g),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:g==="lower"?"Lowercase":g==="upper"?"Uppercase":g==="digits"?"Numbers":g==="symbols"?"Symbols":g==="ambiguous"?"Ambiguous":g==="similar"?"Similar":g})]},g))})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(U,{onClick:y,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Generate Password"}),n&&s&&e.jsx(U,{onClick:p,variant:"outline",className:"flex-1",children:"Use This Password"})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Security Tips"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Use at least 16 characters for maximum security"}),e.jsx("li",{children:"• Include uppercase, lowercase, numbers, and symbols"}),e.jsx("li",{children:"• Avoid similar-looking characters (l, 1, I, O, 0)"}),e.jsx("li",{children:"• Store passwords in a secure password manager"})]})]})]})})]})}function gs(){var g,b,k,h,_,T,v;const[s,t]=i.useState(!1),{isChecking:a,result:r,check:l}=Za(),{values:n,errors:d,touched:c,handleChange:m,handleBlur:o,handleSubmit:j}=Os({email:""},{email:Xa}),x=async u=>{await l(u.email)},y=u=>{alert(`Generated password: ${u}

Please save this in your password manager!`)},p=r?(u=>u===0?{level:"safe",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"}:u<=2?{level:"low",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"}:u<=5?{level:"medium",color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}:{level:"high",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"})(((g=r.breaches)==null?void 0:g.length)||0):null;return e.jsxs("div",{className:"max-w-2xl mx-auto p-4 md:p-6",children:[e.jsxs(L,{className:"mb-6",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Breach Checker"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Check if your email has been compromised in data breaches"})]})]})}),e.jsx(K,{children:e.jsxs("form",{onSubmit:u=>{u.preventDefault(),j(x)},className:"space-y-4",children:[e.jsx(te,{label:"Email Address",type:"email",value:n.email,onChange:u=>m("email",u.target.value),onBlur:()=>o("email"),error:d.email&&c.email?d.email:void 0,placeholder:"Enter your email address",disabled:a,fullWidth:!0}),e.jsx(U,{type:"submit",variant:"primary",size:"lg",loading:a,disabled:!n.email.trim(),className:"w-full py-3 text-base",children:a?"Checking...":"Check for Breaches"})]})})]}),r&&e.jsx(L,{className:`mb-6 border-2 ${p.borderColor}`,children:e.jsx(K,{children:e.jsx("div",{className:`p-4 md:p-6 rounded-lg ${p.bgColor}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[((b=r.breaches)==null?void 0:b.length)>0?e.jsx(ms,{className:`w-6 h-6 ${p.color} mt-1 flex-shrink-0`}):e.jsx(Y,{className:`w-6 h-6 ${p.color} mt-1 flex-shrink-0`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-semibold ${p.color} mb-2`,children:((k=r.breaches)==null?void 0:k.length)>0?`Found ${r.breaches.length} breach${r.breaches.length===1?"":"es"}`:"No breaches found!"}),e.jsx("p",{className:`text-sm ${p.color.replace("text-","text-").replace("-600","-700")}`,children:((h=r.breaches)==null?void 0:h.length)>0?`Your email was found in ${r.breaches.length} data breach${r.breaches.length===1?"":"es"}. Consider changing your passwords.`:"Great news! Your email address hasn't been found in any known data breaches."})]})]})})})}),r&&e.jsx(L,{className:"mb-6",children:e.jsxs(K,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((_=r.breaches)==null?void 0:_.length)>0?"Generate a Strong Password":"Proactive Password Security"})]}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>t(!s),className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Ha,{className:"w-4 h-4"}),"Hide"]}):e.jsxs(e.Fragment,{children:[e.jsx(Oa,{className:"w-4 h-4"}),"Show"]})})]}),s&&e.jsx("div",{className:`p-4 rounded-lg ${((T=r.breaches)==null?void 0:T.length)>0?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"}`,children:e.jsx(lr,{onUsePassword:y})})]})}),r&&e.jsxs(L,{children:[e.jsx(V,{children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-600"}),"Security Recommendations"]})}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3",children:[((v=r.breaches)==null?void 0:v.length)>0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg",children:[e.jsx(ms,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Immediate Actions Required"}),e.jsxs("ul",{className:"text-sm text-red-700 mt-1 space-y-1",children:[e.jsx("li",{children:"• Change passwords for all affected accounts"}),e.jsx("li",{children:"• Enable two-factor authentication where possible"}),e.jsx("li",{children:"• Monitor your accounts for suspicious activity"})]})]})]})}):e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx(Y,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Stay Protected"}),e.jsxs("ul",{className:"text-sm text-green-700 mt-1 space-y-1",children:[e.jsx("li",{children:"• Use unique passwords for each account"}),e.jsx("li",{children:"• Enable two-factor authentication"}),e.jsx("li",{children:"• Regularly check for new breaches"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"General Security Tips"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[e.jsx("li",{children:"• Use a password manager to generate and store strong passwords"}),e.jsx("li",{children:"• Never reuse passwords across multiple accounts"}),e.jsx("li",{children:"• Be cautious of phishing emails and suspicious links"}),e.jsx("li",{children:"• Keep your software and devices updated"})]})]})]})]})})]})]})}function nr(){const[s,t]=i.useState(!1),[a,r]=i.useState(null),l=(o,j,x)=>{const y=o.toLowerCase();let w=0;const p=[];return["parcel","package","delivery","shipped","tracking","postal code","held","suspended","customs","warehouse","courier","fedex","dhl","ups","auspost","australia post","postage","shipment"].forEach(v=>{y.includes(v)&&(w+=15,p.push(`Delivery scam indicator: "${v}"`))}),["auspost","australia post","ato","centrelink","medicare","telstra","optus","vodafone","commonwealth bank","anz","westpac","nab","paypal","amazon","ebay","netflix","spotify","apple","google","microsoft","facebook","instagram","twitter"].forEach(v=>{y.includes(v)&&(w+=20,p.push(`Brand impersonation: "${v}"`))}),["within 24 hours","expires today","immediate action","urgent","act now","limited time","expires soon","verify now","confirm immediately","suspend","block","freeze","close your account"].forEach(v=>{y.includes(v)&&(w+=12,p.push(`Creates false urgency: "${v}"`))}),["bank account","credit card","social security","ssn","tax refund","inheritance","lottery","winner","prize","million","thousand","transfer","wire","bitcoin","cryptocurrency","investment"].forEach(v=>{y.includes(v)&&(w+=18,p.push(`Financial fraud indicator: "${v}"`))}),["reply with","click here","download","install","enable","exit and reopen","copy and paste","forward this message","don't tell anyone","keep this secret","call this number"].forEach(v=>{y.includes(v)&&(w+=10,p.push(`Suspicious instruction: "${v}"`))}),j.forEach(v=>{const u=v.toLowerCase();[".tk",".ml",".ga",".cf",".buzz",".click",".download"].forEach(M=>{u.includes(M)&&(w+=35,p.push(`Highly suspicious domain: ${v}`))});const S=v.replace(/https?:\/\//,"").split("/")[0];/^[a-z]{4,8}\.(buzz|tk|ml|ga|cf)/.test(S.toLowerCase())&&(w+=30,p.push(`Random character domain: ${S}`)),["bit.ly","tinyurl","t.co","goo.gl","ow.ly"].forEach(M=>{u.includes(M)&&(w+=15,p.push(`URL shortener detected: ${M}`))})}),["password","pin","ssn","social security","date of birth","mother's maiden name","security question","account number","routing number","cvv","security code"].forEach(v=>{y.includes(v)&&(w+=25,p.push(`Requests personal information: "${v}"`))}),{score:w,indicators:p,analysis:"Enhanced local pattern analysis"}},n=(o,j,x,y)=>{const w=[];return o>=70?(w.push("Do not interact with this message - Multiple high-risk indicators detected"),x.length>0&&w.push("Avoid clicking the detected URLs - Links identified as dangerous"),w.push("Verify sender through official channels - Always confirm unexpected messages"),y.length>0&&w.push("Check if your email has been compromised - Consider changing passwords")):o>=40?(w.push("Exercise caution with this message - Several suspicious elements found"),x.length>0&&w.push("Verify URLs before clicking - Check domain authenticity"),w.push("Confirm sender identity through alternative means")):o>=15?(w.push("Be cautious and verify sender identity"),x.length>0&&w.push("Check URL destinations before clicking"),w.push("When in doubt, contact the organization directly")):(w.push("Message appears legitimate but always stay vigilant"),w.push("Continue following good cybersecurity practices")),w},d=o=>o.filter(j=>j.includes("suspicious")||j.includes("dangerous")||j.includes("highly suspicious")||j.includes("random character domain")),c=(o,j,x,y)=>{const p=Date.now()-y;let g=0,b=[],k=[],h="";if(o.basicScam&&!o.basicScam.error?(g+=(o.basicScam.risk_score||0)*100,k.push("✓ Basic Scam Detection"),o.basicScam.indicators&&b.push(...o.basicScam.indicators),o.basicScam.analysis&&(h=o.basicScam.analysis)):k.push("✗ Basic Scam Detection (unavailable)"),o.breachCheck&&!o.breachCheck.error&&(o.breachCheck.breached_emails&&o.breachCheck.breached_emails.length>0&&(g+=30,b.push(`Compromised emails detected: ${o.breachCheck.breached_emails.length}`)),k.push("✓ Breach Check")),o.linkAnalysis&&!o.linkAnalysis.error){const M=o.linkAnalysis.analysis||o.linkAnalysis.result||{},R=M.urls||[];typeof M.average_risk_score=="number"&&(g+=M.average_risk_score),k.push("✓ Link Analysis"),R.forEach(N=>{N.indicators&&N.indicators.length>0&&b.push(...N.indicators)})}o.localAnalysis&&(g+=o.localAnalysis.score,b.push(...o.localAnalysis.indicators),k.push("✓ Enhanced Pattern Analysis"));const _=Math.min(Math.max(g,0),100),T=Math.min(k.filter(M=>M.includes("✓")).length/4*100+b.length*5,100),v=/Content analysis failed|HTTPSConnectionPool|NameResolutionError|Failed to resolve|Max retries exceeded|HTTP error/i,C=b.filter(M=>!v.test(M)).slice(0,5).map(M=>M.replace(/\"/g,'"')),S=n(_,b,j,x),A=d(b);return{riskScore:Math.round(_),confidence:Math.round(T),indicators:C,analysis:h||`Analysis completed using ${k.filter(M=>M.includes("✓")).length} services in ${p}ms`,recommendations:S,suspiciousElements:A,urlsDetected:j.length,emailsDetected:x.length,servicesUsed:k.filter(M=>M.includes("✓")),analysisTime:p}};return{isAnalyzing:s,result:a,analyze:async o=>{if(!o||!o.trim())return null;t(!0),r(null);try{const j=Date.now(),x=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,y=/https?:\/\/[^\s]+/g,w=o.match(x)||[],p=o.match(y)||[],g=[],b={basicScam:null,breachCheck:null,linkAnalysis:null,localAnalysis:null};g.push(fetch(`${ie}/api/scam/comprehensive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o})}).then(h=>h.json()).then(h=>{b.basicScam=h}).catch(()=>{b.basicScam={error:"Service unavailable"}})),w.length>0&&g.push(fetch(`${ie}/api/breach/check`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emails:w})}).then(h=>h.json()).then(h=>{b.breachCheck=h}).catch(()=>{b.breachCheck={error:"Service unavailable"}})),p.length>0&&g.push(fetch(`${ie}/api/link/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o})}).then(h=>h.json()).then(h=>{b.linkAnalysis=h}).catch(()=>{b.linkAnalysis={error:"Service unavailable"}})),b.localAnalysis=l(o,p,w),await Promise.all(g);const k=c(b,p,w,j);return r(k),k}finally{t(!1)}}}}const fs={API_ENDPOINTS:{SCAM_ANALYSIS:"/api/scam/comprehensive",BREACH_CHECK:"/api/breach/check",LINK_ANALYSIS:"/api/link/analyze",CHAT:"/api/chat/"},SCAM_INDICATORS:{DELIVERY_KEYWORDS:["parcel","package","delivery","shipped","tracking","postal code","held","suspended","customs","warehouse","courier","fedex","dhl","ups","auspost","australia post","postage","shipment"],BRANDS:["auspost","australia post","ato","centrelink","medicare","telstra","optus","vodafone","commonwealth bank","anz","westpac","nab","paypal","amazon","ebay","netflix","spotify","apple","google","microsoft","facebook","instagram","twitter"],URGENCY_PHRASES:["within 24 hours","expires today","immediate action","urgent","act now","limited time","expires soon","verify now","confirm immediately","suspend","block","freeze","close your account"],FINANCIAL_KEYWORDS:["bank account","credit card","social security","ssn","tax refund","inheritance","lottery","winner","prize","million","thousand","transfer","wire","bitcoin","cryptocurrency","investment"],SUSPICIOUS_INSTRUCTIONS:["reply with","click here","download","install","enable","exit and reopen","copy and paste","forward this message","don't tell anyone","keep this secret","call this number"],PERSONAL_INFO_REQUESTS:["password","pin","ssn","social security","date of birth","mother's maiden name","security question","account number","routing number","cvv","security code"]},COLORS:{PRIMARY:"#21a1ce",SECONDARY:"#1a80a3",SUCCESS:"#16a34a",WARNING:"#ca8a04",DANGER:"#dc2626",INFO:"#3b82f6"},RISK_LEVELS:{HIGH:{threshold:70,color:"#dc2626",icon:"🚨",label:"HIGH RISK"},MEDIUM:{threshold:40,color:"#ea580c",icon:"⚠️",label:"MEDIUM RISK"},LOW_MEDIUM:{threshold:15,color:"#ca8a04",icon:"⚡",label:"LOW-MEDIUM RISK"},LOW:{threshold:0,color:"#16a34a",icon:"✅",label:"LOW RISK"}}};function ir(){const[s,t]=i.useState(!1),{isAnalyzing:a,result:r,analyze:l}=nr(),{values:n,errors:d,touched:c,handleChange:m,handleBlur:o,handleSubmit:j}=Os({message:""},{message:g=>er(g,"Message")}),x=async g=>{await l(g.message)},y=g=>{navigator.clipboard.writeText(g)},p=r?(g=>{for(const[b,k]of Object.entries(fs.RISK_LEVELS))if(g>=k.threshold)return{...k,level:b};return fs.RISK_LEVELS.LOW})(r.riskScore):null;return e.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:[e.jsxs(L,{className:"mb-6",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(me,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Scam Analysis"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Analyze suspicious messages for potential scams and fraud attempts"})]})]})}),e.jsx(K,{children:e.jsxs("form",{onSubmit:g=>{g.preventDefault(),j(x)},className:"space-y-4",children:[e.jsx(Pe,{label:"Suspicious Message",value:n.message,onChange:g=>m("message",g.target.value),onBlur:()=>o("message"),error:d.message&&c.message?d.message:void 0,placeholder:"Paste the suspicious message, email, or text here...",rows:6,disabled:a,fullWidth:!0}),e.jsx(U,{type:"submit",variant:"danger",size:"lg",loading:a,disabled:!n.message.trim(),className:"w-full py-3 text-base",children:a?"Analyzing...":"Analyze for Scams"})]})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mb-6 border-2",style:{borderColor:p.color},children:e.jsx(K,{children:e.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:`${p.color}20`},children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"text-4xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",style:{color:p.color},children:p.label}),e.jsxs("p",{className:"text-gray-700",children:["Risk Score: ",e.jsxs("span",{className:"font-semibold",children:[r.riskScore,"/100"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Key Indicators Found:"}),e.jsx("div",{className:"space-y-1",children:r.indicators&&r.indicators.length>0?r.indicators.map((g,b)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Z,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{children:g})]},b)):e.jsx("div",{className:"text-sm text-gray-500",children:"No specific indicators detected"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Confidence Level:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${r.confidence}%`,backgroundColor:p.color}})}),e.jsxs("span",{className:"text-sm font-medium",children:[r.confidence,"%"]})]})]})]})]})})}),e.jsxs(L,{className:"mb-6",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5 text-blue-600"}),"Detailed Analysis"]}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>t(!s),children:s?"Hide Details":"Show Details"})]})}),e.jsx(K,{children:s&&e.jsxs("div",{className:"space-y-4",children:[r.analysis&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Analysis:"}),e.jsx("p",{className:"text-blue-700",children:r.analysis})]}),r.recommendations&&r.recommendations.length>0&&e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Recommendations:"}),e.jsx("ul",{className:"text-green-700 space-y-1",children:r.recommendations.map((g,b)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:g})]},b))})]}),r.suspiciousElements&&r.suspiciousElements.length>0&&e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Suspicious Elements:"}),e.jsx("ul",{className:"text-red-700 space-y-1",children:r.suspiciousElements.map((g,b)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:g})]},b))})]})]})})]}),e.jsxs(L,{children:[e.jsx(V,{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),e.jsxs(K,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(U,{variant:"outline",onClick:()=>y(n.message),className:"flex items-center gap-2 justify-center",children:[e.jsx(us,{className:"w-4 h-4"}),"Copy Message"]}),e.jsxs(U,{variant:"outline",onClick:()=>y(`Risk Score: ${r.riskScore}/100
Analysis: ${r.analysis||"No analysis available"}`),className:"flex items-center gap-2 justify-center",children:[e.jsx(us,{className:"w-4 h-4"}),"Copy Analysis"]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"⚠️ Important Reminder:"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"This analysis is for educational purposes. If you believe you've received a scam message, report it to relevant authorities and never provide personal information or click suspicious links."})]})]})]})]}),!r&&e.jsxs(L,{children:[e.jsx(V,{children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5 text-blue-600"}),"How It Works"]})}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"📝"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Paste Message"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Copy and paste any suspicious message, email, or text you've received"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"🔍"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"AI Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Our AI analyzes the message for common scam patterns and red flags"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:"🛡️"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Get Results"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive a detailed risk assessment and recommendations to stay safe"})]})]})})]})]})}const bs={passwords:{keywords:["password","passwords","strong password","secure password","passphrase","password manager"],response:`**Password Protection**

• Use at least 16 characters when possible
• Combine uppercase letters, lowercase letters, numbers, and symbols
• Avoid personal information (birthdays, names, etc.)
• Don't use common words or patterns
• Consider using passphrases (e.g., "KangarooJumping2025!Sydney")
• Use a different password for each account
• Consider using a password manager like LastPass, 1Password, or Bitwarden
• Enable multi-factor authentication (MFA) whenever possible`,source:"Expert Knowledge"}};function or(){const[s,t]=i.useState([]),[a,r]=i.useState(""),[l,n]=i.useState(!1),[d,c]=i.useState(!1);return{chatMessages:s,inputMessage:a,isTyping:l,chatError:d,setInputMessage:r,formatChatMessage:j=>j?j.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/^• /gm,"<br>• ").replace(/^\* /gm,"<br>• ").replace(/^- /gm,"<br>• ").replace(/^### (.*$)/gm,'<h4 style="margin: 15px 0 8px 0; color: #374151; font-size: 16px;">$1</h4>').replace(/^## (.*$)/gm,'<h3 style="margin: 15px 0 10px 0; color: #1f2937; font-size: 18px;">$1</h3>').replace(/^# (.*$)/gm,'<h2 style="margin: 15px 0 10px 0; color: #111827; font-size: 20px;">$1</h2>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" style="color: #21a1ce; text-decoration: underline;">$1</a>').replace(/\n\n/g,"<br><br>").replace(/\n/g,"<br>"):"",handleChatSubmit:async j=>{if(j.preventDefault(),!a.trim())return;c(!1);const x={text:a,sender:"user"};t(w=>[...w,x]);const y=a;r(""),n(!0);try{let w=!1,p="",g="";const b=y.toLowerCase();for(const k in bs){const{keywords:h,response:_,source:T}=bs[k];for(const v of h)if(b.includes(v.toLowerCase())){p=_,g=T,w=!0;break}if(w)break}if(!w)try{const k=await fetch(`${ie}/api/chat/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:y})});if(!k.ok)throw new Error(`API status ${k.status}`);const h=await k.json();h.success&&(p=h.response,g=h.source==="expert_knowledge"?"Expert Knowledge":"AI Analysis",w=!0)}catch{}w||(p="I don't have specific information about that topic yet. For complex cybersecurity questions, I recommend consulting with a security professional.",g="AI Analysis"),setTimeout(()=>{const k={text:p,sender:"assistant",source:g};t(h=>[...h,k]),n(!1)},600)}catch{c(!0);const p={text:"Sorry, I encountered an error processing your request. Please try again.",sender:"assistant",source:"System"};t(g=>[...g,p]),n(!1)}}}}function cr(){const{chatMessages:s,inputMessage:t,isTyping:a,chatError:r,setInputMessage:l,formatChatMessage:n,handleChatSubmit:d}=or();return e.jsx("div",{className:"p-4 md:p-6",children:e.jsxs(L,{className:"mb-6",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"bg-[#21a1ce] p-2 rounded-lg mr-3",children:e.jsx(me,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"AI Security Assistant"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Get instant help with cybersecurity questions"})]})]})}),e.jsx(K,{children:e.jsxs("div",{className:"border border-gray-200 rounded-lg h-80 md:h-96 flex flex-col",children:[e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[s.length===0&&e.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[e.jsx(me,{className:"mx-auto mb-2 text-gray-300",size:48}),e.jsx("p",{className:"text-sm md:text-base",children:"Ask me anything about cybersecurity!"}),e.jsx("p",{className:"text-xs md:text-sm mt-2 text-gray-400",children:"Try asking about passwords, phishing, or device security."})]}),s.map((c,m)=>e.jsx("div",{className:`flex ${c.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] px-3 py-2 rounded-lg ${c.sender==="user"?"bg-[#21a1ce] text-white":"bg-gray-100 text-gray-800"}`,children:[c.sender==="assistant"&&e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(Y,{className:"w-4 h-4 mr-1 text-[#21a1ce]"}),e.jsx("span",{className:"text-xs text-[#21a1ce] font-medium",children:c.source||"AI Assistant"})]}),e.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:c.sender==="assistant"?n(c.text):c.text}})]})},m)),a&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 text-gray-800 px-3 py-2 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 mr-1 text-[#21a1ce]"}),e.jsx("span",{className:"text-xs text-[#21a1ce] font-medium mr-2",children:"AI Assistant"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})})]}),e.jsxs("form",{onSubmit:d,className:"border-t border-gray-200 p-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(te,{type:"text",value:t,onChange:c=>l(c.target.value),placeholder:"Type your cybersecurity question...",disabled:a,className:"flex-1"}),e.jsx(U,{type:"submit",disabled:a||!t.trim(),className:"bg-[#21a1ce] hover:bg-[#1a80a3] text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]}),r&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Connection error. Please check your internet and try again."})]})]})})]})})}function dr(){const[s,t]=i.useState(null);return e.jsx("div",{className:"p-4 md:p-6",children:e.jsxs(L,{className:"mb-6",children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"bg-[#21a1ce] p-2 rounded-lg mr-3",children:e.jsx(we,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Cyber Sensei"}),e.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Learn essential cybersecurity skills to protect yourself and your family"})]})]})}),e.jsx(K,{children:s?e.jsxs("div",{children:[e.jsxs("button",{className:"flex items-center text-[#21a1ce] mb-4 hover:underline text-sm md:text-base",onClick:()=>t(null),children:[e.jsx(Fa,{size:20,className:"mr-1"}),"Back to topics"]}),s==="passwords"&&e.jsx(mr,{}),s==="phishing"&&e.jsx(ur,{}),s==="devices"&&e.jsx(hr,{}),s==="social"&&e.jsx(xr,{}),s==="phone"&&e.jsx(pr,{})]}):e.jsxs("div",{className:"grid gap-4",children:[e.jsx(Ne,{onClick:()=>t("passwords"),icon:e.jsx(de,{className:"text-[#21a1ce] mr-3",size:24}),title:"Password Protection",subtitle:"Learn to create and manage strong passwords"}),e.jsx(Ne,{onClick:()=>t("phishing"),icon:e.jsx(Va,{className:"text-[#21a1ce] mr-3",size:24}),title:"Email & Text Scams",subtitle:"Identify and avoid phishing attempts"}),e.jsx(Ne,{onClick:()=>t("devices"),icon:e.jsx(Y,{className:"text-[#21a1ce] mr-3",size:24}),title:"Device & Home Security",subtitle:"Secure your devices and home network"}),e.jsx(Ne,{onClick:()=>t("social"),icon:e.jsx(Be,{className:"text-[#21a1ce] mr-3",size:24}),title:"Social Media & Privacy",subtitle:"Protect your privacy on social platforms"}),e.jsx(Ne,{onClick:()=>t("phone"),icon:e.jsx(Ka,{className:"text-[#21a1ce] mr-3",size:24}),title:"Phone & App Safety",subtitle:"Keep your mobile devices secure"})]})})]})})}function Ne({onClick:s,icon:t,title:a,subtitle:r}){return e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors active:bg-gray-100",onClick:s,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[t,e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm md:text-base",children:a}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:r})]})]}),e.jsx(Ba,{className:"text-gray-400",size:20})]})})}function mr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Password Protection"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Why Strong Passwords Matter"}),e.jsx("p",{className:"text-sm",children:"Passwords are your first line of defense against cybercriminals. A strong password can be the difference between keeping your accounts safe and having your identity stolen."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Creating Strong Passwords"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{title:"Use at least 12-16 characters",desc:"Longer passwords are exponentially harder to crack"}),e.jsx(W,{title:"Mix character types",desc:"Combine uppercase, lowercase, numbers, and symbols"}),e.jsx(W,{title:"Use unique passwords",desc:"Never reuse passwords across different accounts"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Australian Example"}),e.jsx("p",{className:"text-sm",children:`Instead of "password123", try "KangarooJumping2025!Sydney" - it's long, memorable, and includes Australian references that are meaningful to you.`})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Password Managers"}),e.jsx("p",{className:"text-sm mb-3",children:"Password managers generate and store unique passwords for all your accounts. Popular options include:"}),e.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[e.jsx("li",{children:"• LastPass"}),e.jsx("li",{children:"• 1Password"}),e.jsx("li",{children:"• Bitwarden (free option)"}),e.jsx("li",{children:"• Dashlane"})]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"What NOT to Do"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Don't use personal information (birthdays, names, addresses)"}),e.jsx("li",{children:"• Don't use common words or patterns"}),e.jsx("li",{children:"• Don't share passwords with others"}),e.jsx("li",{children:"• Don't write passwords on sticky notes"})]})]})]})}function ur(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Email & Text Scams"}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"What is Phishing?"}),e.jsx("p",{className:"text-sm",children:"Phishing is when criminals send fake emails or texts pretending to be from legitimate companies to steal your personal information, passwords, or money."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Warning Signs to Look For"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{danger:!0,title:"Urgent language",desc:"'Act now!' 'Your account will be closed!' 'Immediate action required!'"}),e.jsx(W,{danger:!0,title:"Generic greetings",desc:"'Dear Customer' instead of your actual name"}),e.jsx(W,{danger:!0,title:"Suspicious links",desc:"Hover over links to see where they really go"}),e.jsx(W,{danger:!0,title:"Poor grammar and spelling",desc:"Legitimate companies proofread their communications"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Australian Example"}),e.jsxs("p",{className:"text-sm",children:['"Your ATO tax refund is ready! Click here to claim $1,247.50 immediately or it will expire in 24 hours."',e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"Red flags:"})," The ATO doesn't send refund notifications via email, uses urgent language, and asks you to click links."]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"How to Verify Suspicious Messages"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"• Contact the company directly using official phone numbers"}),e.jsx("p",{children:"• Log into your account through the official website (not email links)"}),e.jsx("p",{children:"• Check the sender's email address carefully for misspellings"}),e.jsx("p",{children:'• Ask yourself: "Was I expecting this message?"'})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"What to Do if You've Been Targeted"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Don't click any links or download attachments"}),e.jsx("li",{children:"• Report the message to the company being impersonated"}),e.jsx("li",{children:"• Forward phishing emails to the ACCC's Scamwatch"}),e.jsx("li",{children:"• If you clicked a link, change your passwords immediately"})]})]})]})}function hr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Device & Home Security"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Why Device Security Matters"}),e.jsx("p",{className:"text-sm",children:"Your devices contain personal photos, banking apps, emails, and more. Securing them protects your entire digital life."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Computer Security"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{title:"Keep software updated",desc:"Enable automatic updates for your operating system and apps"}),e.jsx(W,{title:"Use antivirus software",desc:"Windows Defender is built-in and effective for most users"}),e.jsx(W,{title:"Enable firewall",desc:"Your computer's firewall blocks unauthorized access"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Home Wi-Fi Security"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"• Change default router passwords"}),e.jsx("p",{children:"• Use WPA3 encryption (or at least WPA2)"}),e.jsx("p",{children:"• Create a strong Wi-Fi password"}),e.jsx("p",{children:"• Set up a guest network for visitors"}),e.jsx("p",{children:"• Keep router firmware updated"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Backup Your Data"}),e.jsx("p",{className:"text-sm",children:"Follow the 3-2-1 rule: 3 copies of important data, on 2 different types of media, with 1 copy stored offsite (like cloud storage)."})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Public Wi-Fi Safety"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Avoid accessing sensitive accounts on public Wi-Fi"}),e.jsx("li",{children:"• Use a VPN when possible"}),e.jsx("li",{children:"• Turn off auto-connect to Wi-Fi networks"}),e.jsx("li",{children:"• Use your phone's hotspot instead when possible"})]})]})]})}function xr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Social Media & Privacy"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Your Digital Footprint"}),e.jsx("p",{className:"text-sm",children:'Everything you post online creates a permanent digital footprint. Even "private" posts can become public through data breaches or account compromises.'})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{title:"Review privacy settings regularly",desc:"Social media platforms often change their privacy policies"}),e.jsx(W,{title:"Limit who can see your posts",desc:"Set posts to 'Friends only' rather than 'Public'"}),e.jsx(W,{title:"Control who can find you",desc:"Limit search visibility and friend requests"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"What Not to Share"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"• Full birth dates (use just day/month)"}),e.jsx("p",{children:"• Home addresses or specific locations"}),e.jsx("p",{children:"• Travel plans while you're away"}),e.jsx("p",{children:"• Photos of important documents"}),e.jsx("p",{children:"• Financial information"}),e.jsx("p",{children:"• Children's full names and schools"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Think Before You Post"}),e.jsx("p",{className:"text-sm",children:`Ask yourself: "Would I be comfortable if my employer, family, or a stranger saw this?" If not, don't post it.`})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Recognizing Social Media Scams"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:`• "You've won a prize!" messages`}),e.jsx("li",{children:"• Fake friend requests from people you already know"}),e.jsx("li",{children:'• "This video is going viral!" links'}),e.jsx("li",{children:'• Requests for money from "friends" in trouble'})]})]})]})}function pr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Phone & App Safety"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Your Phone is a Computer"}),e.jsx("p",{className:"text-sm",children:"Modern smartphones contain more personal information than most computers. They need the same level of security protection."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Basic Phone Security"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{title:"Use a strong lock screen",desc:"PIN, password, fingerprint, or face recognition"}),e.jsx(W,{title:"Keep your OS updated",desc:"Enable automatic updates for security patches"}),e.jsx(W,{title:"Enable remote wipe",desc:"So you can erase your phone if it's lost or stolen"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"App Safety Tips"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"• Only download apps from official stores (Google Play, Apple App Store)"}),e.jsx("p",{children:"• Read app permissions before installing"}),e.jsx("p",{children:"• Regularly review and uninstall unused apps"}),e.jsx("p",{children:"• Be cautious with apps requesting excessive permissions"}),e.jsx("p",{children:"• Keep apps updated"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Real-world Example: SIM Swapping"}),e.jsx("p",{className:"text-sm",children:"Sarah received a text saying her Telstra service would be suspended. She called Telstra directly and discovered it was a scam. The criminals were trying to get her to provide information that could be used for SIM swapping - taking control of her phone number."})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-bold mb-2",children:"Warning Signs of Phone Scams"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• Unexpected texts about account problems"}),e.jsx("li",{children:"• Calls claiming to be from tech support"}),e.jsx("li",{children:"• Apps asking for unnecessary permissions"}),e.jsx("li",{children:"• Sudden loss of phone service (possible SIM swap)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Mobile Device Security"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:"• Use two-factor authentication on important accounts"}),e.jsx("p",{children:"• Be cautious on public Wi-Fi"}),e.jsx("p",{children:"• Don't leave your phone unattended in public"}),e.jsx("p",{children:"• Consider using a VPN for sensitive activities"}),e.jsx("p",{children:"• Backup your phone data regularly"})]})]})]})}function W({title:s,desc:t,danger:a}){return e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`p-1 rounded-full mr-3 mt-1 ${a?"bg-red-100":"bg-green-100"}`,children:e.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-red-500":"bg-green-500"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s}),e.jsx("p",{className:"text-sm text-gray-600",children:t})]})]})}function Q({children:s,variant:t="primary",size:a="md",fullWidth:r=!1,disabled:l=!1,loading:n=!1,className:d="",...c}){const m="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",o={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-blue-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-sm",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 shadow-sm",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},j={sm:"px-3 py-2 text-sm min-h-[44px]",md:"px-4 py-3 text-base min-h-[48px]",lg:"px-6 py-4 text-lg min-h-[56px]",xl:"px-8 py-5 text-xl min-h-[64px]"},x=r?"w-full":"",y=`${m} ${o[t]} ${j[a]} ${x} ${d}`.trim();return e.jsxs("button",{className:y,disabled:l||n,...c,children:[n&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})}function oe({isOpen:s,onClose:t,title:a,children:r,showCloseButton:l=!0,fullScreen:n=!1}){return i.useEffect(()=>{const d=c=>{c.key==="Escape"&&t()};return s&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[s,t]),s?e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),e.jsxs("div",{className:`absolute inset-0 bg-white ${n?"rounded-none":"rounded-t-3xl"} transform transition-transform duration-300 ease-out ${s?"translate-y-0":"translate-y-full"}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a}),l&&e.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-2 rounded-full hover:bg-gray-100",children:e.jsx(ts,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r}),e.jsx("div",{className:"h-4 bg-white"})]})]}):null}function gr({children:s,cols:t=1,gap:a=4,className:r="",...l}){const n={2:"gap-2",3:"gap-3",4:"gap-4",5:"gap-5",6:"gap-6",8:"gap-8"},d={1:"grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-1",2:"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6"},c=`grid ${d[t]||d[1]} ${n[a]||n[4]} ${r}`.trim();return e.jsx("div",{className:c,...l,children:s})}function ce({children:s,span:t=1,className:a="",...r}){const l={1:"col-span-1",2:"col-span-1 sm:col-span-2",3:"col-span-1 sm:col-span-2 md:col-span-3",4:"col-span-1 sm:col-span-2 md:col-span-3 lg:col-span-4"},n=`${l[t]||l[1]} ${a}`.trim();return e.jsx("div",{className:n,...r,children:s})}function Bs({children:s,className:t=""}){return e.jsx(gr,{cols:2,gap:4,className:t,children:s})}function pe({children:s,className:t=""}){return e.jsx("div",{className:`space-y-2 ${t}`,children:s})}function fr({children:s,onClick:t,interactive:a=!1,className:r="",...l}){const c=`bg-white border border-gray-200 rounded-xl p-4 transition-all duration-200 ${a?"hover:shadow-md active:scale-[0.98] cursor-pointer":""} ${r}`.trim(),m=t?"button":"div";return e.jsx(m,{className:c,onClick:t,...l,children:s})}function ge({icon:s,title:t,subtitle:a,badge:r,badgeColor:l="blue",onClick:n,className:d="",...c}){const m={blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",purple:"bg-purple-100 text-purple-800",gray:"bg-gray-100 text-gray-800"};return e.jsx(fr,{onClick:n,interactive:!!n,className:d,...c,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[s&&e.jsx("div",{className:"flex-shrink-0",children:s}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t}),r&&e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${m[l]}`,children:r})]}),a&&e.jsx("p",{className:"text-xs text-gray-500 truncate",children:a})]})]})})}const br=()=>{const[s,t]=i.useState(null),[a,r]=i.useState([]),[l,n]=i.useState([]),[d,c]=i.useState([]),[m,o]=i.useState(!1),[j,x]=i.useState(null),y=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.THREAT_INTELLIGENCE.DASHBOARD);if(v.ok){const u=await v.json();return t(u),u}else throw new Error("Failed to fetch dashboard data")}catch(v){x(v.message),console.error("Error fetching dashboard:",v)}finally{o(!1)}},[]),w=i.useCallback(async(v={})=>{try{o(!0),x(null);const u=new URLSearchParams(v).toString(),C=`${I.THREAT_INTELLIGENCE.THREATS}${u?`?${u}`:""}`,S=await J(C);if(S.ok){const A=await S.json();return r(A.threats||A),A}else throw new Error("Failed to fetch threats")}catch(u){x(u.message),console.error("Error fetching threats:",u)}finally{o(!1)}},[]),p=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.THREAT_INTELLIGENCE.ALERTS);if(v.ok){const u=await v.json();return n(u.alerts||u),u}else throw new Error("Failed to fetch alerts")}catch(v){x(v.message),console.error("Error fetching alerts:",v)}finally{o(!1)}},[]),g=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.THREAT_INTELLIGENCE.TRENDS);if(v.ok){const u=await v.json();return c(u.trends||u),u}else throw new Error("Failed to fetch trends")}catch(v){x(v.message),console.error("Error fetching trends:",v)}finally{o(!1)}},[]),b=i.useCallback(async v=>{try{o(!0),x(null);const u=await q(I.THREAT_INTELLIGENCE.THREATS,v);if(u.ok){const C=await u.json();return r(S=>[C,...S]),{success:!0,threat:C}}else{const C=await u.json();throw new Error(C.message||"Failed to create threat")}}catch(u){return x(u.message),{success:!1,error:u.message}}finally{o(!1)}},[]),k=i.useCallback(async(v,u)=>{try{o(!0),x(null);const C=await $e(`${I.THREAT_INTELLIGENCE.THREATS}/${v}`,u);if(C.ok){const S=await C.json();return r(A=>A.map(M=>M.id===v?S:M)),{success:!0,threat:S}}else{const S=await C.json();throw new Error(S.message||"Failed to update threat")}}catch(C){return x(C.message),{success:!1,error:C.message}}finally{o(!1)}},[]),h=i.useCallback(async v=>{try{o(!0),x(null);const u=await q(I.THREAT_INTELLIGENCE.ALERTS,v);if(u.ok){const C=await u.json();return n(S=>[C,...S]),{success:!0,alert:C}}else{const C=await u.json();throw new Error(C.message||"Failed to create alert")}}catch(u){return x(u.message),{success:!1,error:u.message}}finally{o(!1)}},[]),_=i.useCallback(async()=>{await Promise.all([y(),w(),p(),g()])},[y,w,p,g]),T=i.useCallback(()=>x(null),[]);return{dashboardData:s,threats:a,alerts:l,trends:d,isLoading:m,error:j,fetchDashboard:y,fetchThreats:w,fetchAlerts:p,fetchTrends:g,createThreat:b,updateThreat:k,createAlert:h,loadAllData:_,clearError:T}},he=()=>{const[s,t]=i.useState(null),[a,r]=i.useState(!1),[l,n]=i.useState(!0),[d,c]=i.useState(null);i.useEffect(()=>{(async()=>{if(localStorage.getItem("authToken"))try{const b=await J(I.AUTH.PROFILE);if(b.ok){const k=await b.json(),h=k.user||k;console.log("Profile data received:",k),console.log("User object:",h),console.log("Is admin?",h.is_admin),t(h),r(!0)}else localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken")}catch(b){console.error("Profile check error:",b),localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken")}n(!1)})()},[]);const m=i.useCallback(async(p,g)=>{try{c(null),n(!0),console.log("Attempting login to:",I.AUTH.LOGIN);const b=await q(I.AUTH.LOGIN,{email:p,password:g});if(b.ok){const k=await b.json();console.log("Login response:",k);const{access_token:h,refresh_token:_,user:T}=k;localStorage.setItem("authToken",h),localStorage.setItem("refreshToken",_);const v=T||k.user;return console.log("Setting user:",v),console.log("User is_admin:",v==null?void 0:v.is_admin),console.log("User role:",v==null?void 0:v.role),t(v),r(!0),{success:!0}}else{const k=await b.json();return c(k.message||"Login failed"),{success:!1,error:k.message}}}catch(b){console.error("Login error details:",b);let k="Network error occurred";return b.name==="TypeError"&&b.message.includes("fetch")?k="Cannot connect to server. Please check your internet connection or server status.":b.message&&(k=b.message),c(k),{success:!1,error:k}}finally{n(!1)}},[]),o=i.useCallback(async p=>{try{c(null),n(!0);const g=await q(I.AUTH.REGISTER,p);if(g.ok){const{access_token:b,refresh_token:k,user:h}=await g.json();return localStorage.setItem("authToken",b),localStorage.setItem("refreshToken",k),t(h),r(!0),{success:!0}}else{const b=await g.json();return c(b.message||"Registration failed"),{success:!1,error:b.message}}}catch{return c("Network error occurred"),{success:!1,error:"Network error occurred"}}finally{n(!1)}},[]),j=i.useCallback(async()=>{try{localStorage.getItem("authToken")&&await q(I.AUTH.LOGOUT)}catch(p){console.error("Logout error:",p)}finally{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),t(null),r(!1)}},[]),x=i.useCallback(async p=>{try{c(null),n(!0);const g=await $e(I.AUTH.PROFILE,p);if(g.ok){const b=await g.json();return t(b),{success:!0,user:b}}else{const b=await g.json();return c(b.message||"Profile update failed"),{success:!1,error:b.message}}}catch{return c("Network error occurred"),{success:!1,error:"Network error occurred"}}finally{n(!1)}},[]),y=i.useCallback(async(p,g)=>{try{c(null),n(!0);const b=await q(I.AUTH.CHANGE_PASSWORD,{current_password:p,new_password:g});if(b.ok)return{success:!0};{const k=await b.json();return c(k.message||"Password change failed"),{success:!1,error:k.message}}}catch{return c("Network error occurred"),{success:!1,error:"Network error occurred"}}finally{n(!1)}},[]),w=i.useCallback(()=>{console.log("=== USER AUTH DEBUG ==="),console.log("User object:",s),console.log("Is authenticated:",a),console.log("Is loading:",l),console.log("User is_admin:",s==null?void 0:s.is_admin),console.log("User role:",s==null?void 0:s.role),console.log("User email:",s==null?void 0:s.email),console.log("Local storage token:",localStorage.getItem("authToken")),console.log("========================")},[s,a,l]);return{user:s,isAuthenticated:a,isLoading:l,error:d,login:m,register:o,logout:j,updateProfile:x,changePassword:y,clearError:()=>c(null),debugUserState:w}};function yr(){const{isAuthenticated:s}=he(),{dashboardData:t,threats:a,alerts:r,trends:l,isLoading:n,error:d,loadAllData:c,clearError:m}=br(),[o,j]=i.useState(!1),[x,y]=i.useState({title:"",description:"",threat_type:"",severity:"MEDIUM",region:"Global"});i.useEffect(()=>{s&&c()},[c,s]);const w=h=>h.startsWith("+")?"text-red-600":"text-green-600",p=async h=>{h.preventDefault(),j(!1),y({title:"",description:"",threat_type:"",severity:"MEDIUM",region:"Global"})};if(!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Login required to access Threat Intelligence"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please log in to view threat data and analytics"})]})});if(n&&!t)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Loading threat intelligence..."})]})});if(d){const h=d.includes("Token is missing")||d.includes("401")||d.includes("Unauthorized");return e.jsx("div",{className:"p-4",children:e.jsxs(L,{className:"bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-2",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:h?"Authentication Required":"Error loading data"})]}),e.jsx("p",{className:"text-red-700 text-sm mb-3",children:h?"Please log in to access threat intelligence data. Your session may have expired.":d}),e.jsx("div",{className:"flex gap-2",children:h?e.jsx(Q,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",className:"flex-1",children:"Go to Login"}):e.jsx(Q,{onClick:m,variant:"outline",size:"sm",className:"flex-1",children:"Try Again"})})]})})}const g=(t==null?void 0:t.stats)||{totalReports:0,activeUsers:0,threatsBlocked:0,avgResponseTime:"0s"},b=(l==null?void 0:l.slice(0,4))||[],k=(r==null?void 0:r.slice(0,3))||[];return e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Threat Intelligence"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Real-time insights into emerging scams"})]}),s&&e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(Q,{onClick:()=>c(),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(Q,{onClick:()=>j(!0),size:"sm",className:"flex-1",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"New Threat"]})]}),e.jsxs(Bs,{children:[e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.totalReports.toLocaleString()})]})]})})}),e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Be,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Active Users"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.activeUsers.toLocaleString()})]})]})})}),e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx($a,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Threats Blocked"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.threatsBlocked.toLocaleString()})]})]})})}),e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-3 p-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(za,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Avg Response"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:g.avgResponseTime})]})]})})})]}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Trending Threats"})]}),b.length>0?e.jsx(pe,{children:b.map((h,_)=>e.jsx(ge,{title:h.title||h.threat_type,subtitle:`${h.report_count||0} reports • ${h.region||"Global"}`,badge:h.severity,badgeColor:h.severity==="CRITICAL"?"red":h.severity==="HIGH"?"orange":h.severity==="MEDIUM"?"yellow":"green",icon:e.jsx(hs,{className:"w-4 h-4 text-gray-400"}),rightContent:e.jsx("span",{className:`text-sm font-medium ${w(h.trend||"+0%")}`,children:h.trend||"+0%"})},h.id||_))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(fe,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No trending threats available"})]})]})}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Z,{className:"w-5 h-5 text-orange-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Alerts"})]}),k.length>0?e.jsx(pe,{children:k.map(h=>e.jsx(ge,{title:h.message||h.description,subtitle:h.created_at||"Recently",badge:h.severity,badgeColor:h.severity==="CRITICAL"?"red":h.severity==="HIGH"?"orange":h.severity==="MEDIUM"?"yellow":"green",icon:e.jsx(Z,{className:"w-4 h-4 text-orange-400"})},h.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No recent alerts"})]})]})}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Global Threat Distribution"}),e.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-50 to-red-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-600",children:[e.jsx(hs,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"Interactive threat map coming soon"}),e.jsx("p",{className:"text-xs",children:"Real-time visualization of global scam patterns"})]})})]})}),e.jsx(oe,{isOpen:o,onClose:()=>j(!1),title:"Report New Threat",size:"full",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx(te,{type:"text",value:x.title,onChange:h=>y({...x,title:h.target.value}),placeholder:"Enter threat title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:h=>y({...x,description:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"3",placeholder:"Describe the threat in detail",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),e.jsxs("select",{value:x.threat_type,onChange:h=>y({...x,threat_type:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"phishing",children:"Phishing"}),e.jsx("option",{value:"scam",children:"Scam"}),e.jsx("option",{value:"malware",children:"Malware"}),e.jsx("option",{value:"fraud",children:"Fraud"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),e.jsxs("select",{value:x.severity,onChange:h=>y({...x,severity:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"CRITICAL",children:"Critical"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"submit",className:"flex-1",children:"Submit Report"}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Cancel"})]})]})})]})}const jr=()=>{const[s,t]=i.useState(null),[a,r]=i.useState([]),[l,n]=i.useState([]),[d,c]=i.useState([]),[m,o]=i.useState(!1),[j,x]=i.useState(null),y=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.RISK_PROFILE.PROFILE);if(v.ok){const u=await v.json();return t(u),u}else throw new Error("Failed to fetch risk profile")}catch(v){x(v.message),console.error("Error fetching profile:",v)}finally{o(!1)}},[]),w=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.RISK_PROFILE.SCANS);if(v.ok){const u=await v.json();return r(u.scans||u),u}else throw new Error("Failed to fetch scan history")}catch(v){x(v.message),console.error("Error fetching scans:",v)}finally{o(!1)}},[]),p=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.RISK_PROFILE.LEARNING);if(v.ok){const u=await v.json();return n(u.modules||u),u}else throw new Error("Failed to fetch learning modules")}catch(v){x(v.message),console.error("Error fetching learning modules:",v)}finally{o(!1)}},[]),g=i.useCallback(async()=>{try{o(!0),x(null);const v=await J(I.RISK_PROFILE.RECOMMENDATIONS);if(v.ok){const u=await v.json();return c(u.recommendations||u),u}else throw new Error("Failed to fetch recommendations")}catch(v){x(v.message),console.error("Error fetching recommendations:",v)}finally{o(!1)}},[]),b=i.useCallback(async v=>{try{o(!0),x(null);const u=await q(`${I.RISK_PROFILE.LEARNING}/${v}/start`);if(u.ok){const C=await u.json();return n(S=>S.map(A=>A.id===v?{...A,status:"in_progress",started_at:C.started_at}:A)),{success:!0,data:C}}else{const C=await u.json();throw new Error(C.message||"Failed to start learning module")}}catch(u){return x(u.message),{success:!1,error:u.message}}finally{o(!1)}},[]),k=i.useCallback(async v=>{try{o(!0),x(null);const u=await q(`${I.RISK_PROFILE.LEARNING}/${v}/complete`);if(u.ok){const C=await u.json();return n(S=>S.map(A=>A.id===v?{...A,status:"completed",completed_at:C.completed_at}:A)),{success:!0,data:C}}else{const C=await u.json();throw new Error(C.message||"Failed to complete learning module")}}catch(u){return x(u.message),{success:!1,error:u.message}}finally{o(!1)}},[]),h=i.useCallback(async v=>{try{o(!0),x(null);const u=await q(I.RISK_PROFILE.LEARNING,v);if(u.ok){const C=await u.json();return n(S=>[C,...S]),{success:!0,module:C}}else{const C=await u.json();throw new Error(C.message||"Failed to create learning module")}}catch(u){return x(u.message),{success:!1,error:u.message}}finally{o(!1)}},[]),_=i.useCallback(async()=>{await Promise.all([y(),w(),p(),g()])},[y,w,p,g]),T=i.useCallback(()=>x(null),[]);return{profile:s,scans:a,learningModules:l,recommendations:d,isLoading:m,error:j,fetchProfile:y,fetchScans:w,fetchLearningModules:p,fetchRecommendations:g,startLearningModule:b,completeLearningModule:k,createLearningModule:h,loadAllData:_,clearError:T}};function vr(){const{isAuthenticated:s}=he(),{profile:t,scans:a,learningModules:r,recommendations:l,isLoading:n,error:d,loadAllData:c,startLearningModule:m,completeLearningModule:o,clearError:j}=jr(),[x,y]=i.useState(!1),[w,p]=i.useState({title:"",description:"",category:"",difficulty:"BEGINNER"});i.useEffect(()=>{s&&c()},[c,s]);const g=u=>{const C={LOW:"bg-green-100 text-green-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",CRITICAL:"bg-red-100 text-red-800"};return C[u]||C.MEDIUM},b=u=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600",k=()=>{var S,A;if(!t)return 0;const u=((S=t.risk_factors)==null?void 0:S.filter(M=>M.risk_level==="HIGH").length)||0,C=((A=t.risk_factors)==null?void 0:A.filter(M=>M.risk_level==="MEDIUM").length)||0;return Math.min(100,u*30+C*15)},h=async(u,C)=>{C==="start"?await m(u):C==="complete"&&await o(u)},_=async u=>{u.preventDefault(),y(!1),p({title:"",description:"",category:"",difficulty:"BEGINNER"})};if(!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Login required to access Risk Profile"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please log in to view your security profile and recommendations"})]})});if(n&&!t)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),e.jsx("p",{className:"text-gray-600",children:"Loading your risk profile..."})]})});if(d){const u=d.includes("Token is missing")||d.includes("401")||d.includes("Unauthorized");return e.jsx("div",{className:"p-4",children:e.jsxs(L,{className:"bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-2",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:u?"Authentication Required":"Error loading profile"})]}),e.jsx("p",{className:"text-red-700 text-sm mb-3",children:u?"Please log in to access your risk profile. Your session may have expired.":d}),e.jsx("div",{className:"flex gap-2",children:u?e.jsx(Q,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",className:"flex-1",children:"Go to Login"}):e.jsx(Q,{onClick:j,variant:"outline",size:"sm",className:"flex-1",children:"Try Again"})})]})})}const T=t||{risk_level:"MEDIUM",total_scans:0,threats_detected:0,learning_progress:0,risk_factors:[]},v=k();return e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Security Profile"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Track your progress and learn from experiences"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(Q,{onClick:()=>c(),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(Q,{onClick:()=>y(!0),size:"sm",className:"flex-1",children:[e.jsx(es,{className:"w-4 h-4 mr-2"}),"New Module"]})]}),e.jsxs(Bs,{children:[e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ss,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Risk Level"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${g(T.risk_level)}`,children:T.risk_level}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Based on recent activity"})]})})}),e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ve,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Threats Detected"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.threats_detected}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Out of ",T.total_scans," scans"]})]})})}),e.jsx(ce,{children:e.jsx(L,{children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(we,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Learning Progress"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsxs("p",{className:`text-2xl font-bold ${b(T.learning_progress)}`,children:[T.learning_progress,"%"]}),e.jsx(Da,{className:"w-5 h-5 text-yellow-500"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Security education completed"})]})})})]}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Risk Analysis"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Risk Score"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[v,"/100"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${v}%`,backgroundColor:v>70?"#dc2626":v>40?"#ea580c":"#16a34a"}})})]}),T.risk_factors&&T.risk_factors.length>0?e.jsx(pe,{children:T.risk_factors.map((u,C)=>e.jsx(ge,{title:u.factor_name,subtitle:`Encountered ${u.frequency} times`,badge:u.risk_level,badgeColor:u.risk_level==="CRITICAL"?"red":u.risk_level==="HIGH"?"orange":u.risk_level==="MEDIUM"?"yellow":"green",icon:e.jsx(fe,{className:"w-4 h-4 text-blue-400"})},C))}):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(fe,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No risk factors identified yet"})]})]})}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Scam Analysis"}),a&&a.length>0?e.jsx(pe,{children:a.slice(0,4).map(u=>e.jsx(ge,{title:u.message||u.description,subtitle:u.created_at||"Recently",badge:u.risk_level,badgeColor:u.risk_level==="CRITICAL"?"red":u.risk_level==="HIGH"?"orange":u.risk_level==="MEDIUM"?"yellow":"green",icon:e.jsx(Ve,{className:"w-4 h-4 text-green-400"}),rightContent:e.jsx("div",{className:"flex items-center gap-2",children:u.learned?e.jsx(ke,{className:"w-4 h-4 text-green-600",title:"Lesson learned"}):e.jsx(Z,{className:"w-4 h-4 text-yellow-600",title:"Review recommended"})})},u.id))}):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(Ve,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No recent scans available"})]})]})}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Learning Modules"}),e.jsx(Q,{variant:"outline",size:"sm",children:"View All"})]}),r&&r.length>0?e.jsx(pe,{children:r.map(u=>e.jsx(ge,{title:u.title,subtitle:u.description||"Learn to recognize and avoid this type of scam",badge:u.status==="completed"?"Completed":u.status==="in_progress"?"In Progress":"Not Started",badgeColor:u.status==="completed"?"green":u.status==="in_progress"?"blue":"gray",icon:e.jsx(we,{className:"w-4 h-4 text-purple-400"}),rightContent:e.jsx(Q,{variant:u.status==="completed"?"outline":"default",size:"sm",onClick:()=>h(u.id,u.status==="completed"?"review":u.status==="in_progress"?"complete":"start"),children:u.status==="completed"?"Review":u.status==="in_progress"?"Complete":"Start"})},u.id))}):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(we,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No learning modules available"})]})]})}),e.jsx(L,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Y,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommendations"})]}),l&&l.length>0?e.jsx(pe,{children:l.map((u,C)=>e.jsx(ge,{title:u.title,subtitle:u.description,badge:u.priority,badgeColor:u.priority==="high"?"red":u.priority==="medium"?"yellow":"green",icon:e.jsx(Y,{className:"w-4 h-4 text-blue-400"})},C))}):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(Y,{className:"w-10 h-10 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No recommendations available yet"})]})]})}),e.jsx(oe,{isOpen:x,onClose:()=>y(!1),title:"Create Learning Module",size:"full",children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx(te,{type:"text",value:w.title,onChange:u=>p({...w,title:u.target.value}),placeholder:"Enter module title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:w.description,onChange:u=>p({...w,description:u.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"3",placeholder:"Describe the learning module",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:w.category,onChange:u=>p({...w,category:u.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"phishing",children:"Phishing"}),e.jsx("option",{value:"scam",children:"Scam"}),e.jsx("option",{value:"malware",children:"Malware"}),e.jsx("option",{value:"fraud",children:"Fraud"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty"}),e.jsxs("select",{value:w.difficulty,onChange:u=>p({...w,difficulty:u.target.value}),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"submit",className:"flex-1",children:"Create Module"}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>y(!1),className:"flex-1",children:"Cancel"})]})]})})]})}const ys=({children:s,variant:t="default",className:a="",...r})=>{const d=`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${{default:"bg-gray-100 text-gray-800",secondary:"bg-blue-100 text-blue-800",destructive:"bg-red-100 text-red-800",outline:"border border-gray-200 text-gray-700"}[t]} ${a}`;return e.jsx("span",{className:d,...r,children:s})},Nr=()=>{const[s,t]=i.useState([]),[a,r]=i.useState([]),[l,n]=i.useState(null),[d,c]=i.useState([]),[m,o]=i.useState(!1),[j,x]=i.useState(null),y=i.useCallback(async(C={})=>{try{o(!0),x(null);const S=new URLSearchParams(C).toString(),A=`${I.COMMUNITY.REPORTS}${S?`?${S}`:""}`,M=await J(A);if(M.ok){const R=await M.json();return t(R.reports||R),R}else throw new Error("Failed to fetch community reports")}catch(S){x(S.message),console.error("Error fetching reports:",S)}finally{o(!1)}},[]),w=i.useCallback(async()=>{try{o(!0),x(null);const C=await J(I.COMMUNITY.TRENDING);if(C.ok){const S=await C.json();return r(S.trending||S),S}else throw new Error("Failed to fetch trending threats")}catch(C){x(C.message),console.error("Error fetching trending threats:",C)}finally{o(!1)}},[]),p=i.useCallback(async()=>{try{o(!0),x(null);const C=await J(I.COMMUNITY.STATS);if(C.ok){const S=await C.json();return n(S),S}else throw new Error("Failed to fetch community statistics")}catch(C){x(C.message),console.error("Error fetching community stats:",C)}finally{o(!1)}},[]),g=i.useCallback(async()=>{try{o(!0),x(null);const C=await J(I.COMMUNITY.ALERTS);if(C.ok){const S=await C.json();return c(S.alerts||S),S}else throw new Error("Failed to fetch community alerts")}catch(C){x(C.message),console.error("Error fetching alerts:",C)}finally{o(!1)}},[]),b=i.useCallback(async C=>{try{o(!0),x(null);const S=await q(I.COMMUNITY.REPORTS,C);if(S.ok){const A=await S.json();return t(M=>[A,...M]),{success:!0,report:A}}else{const A=await S.json();throw new Error(A.message||"Failed to create report")}}catch(S){return x(S.message),{success:!1,error:S.message}}finally{o(!1)}},[]),k=i.useCallback(async(C,S)=>{try{o(!0),x(null);const A=await q(`${I.COMMUNITY.REPORTS}/${C}/vote`,{vote_type:S});if(A.ok){const M=await A.json();return t(R=>R.map(N=>N.id===C?{...N,votes:M.votes,user_vote:S}:N)),{success:!0,data:M}}else{const M=await A.json();throw new Error(M.message||"Failed to vote on report")}}catch(A){return x(A.message),{success:!1,error:A.message}}finally{o(!1)}},[]),h=i.useCallback(async(C,S)=>{try{o(!0),x(null);const A=await q(`${I.COMMUNITY.REPORTS}/${C}/verify`,S);if(A.ok){const M=await A.json();return t(R=>R.map(N=>N.id===C?{...N,verification_status:M.verification_status,verified_by:M.verified_by}:N)),{success:!0,data:M}}else{const M=await A.json();throw new Error(M.message||"Failed to verify report")}}catch(A){return x(A.message),{success:!1,error:A.message}}finally{o(!1)}},[]),_=i.useCallback(async(C,S)=>{try{o(!0),x(null);const A=await q(`${I.COMMUNITY.REPORTS}/${C}/comment`,S);if(A.ok){const M=await A.json();return t(R=>R.map(N=>N.id===C?{...N,comments:[...N.comments||[],M]}:N)),{success:!0,comment:M}}else{const M=await A.json();throw new Error(M.message||"Failed to add comment")}}catch(A){return x(A.message),{success:!1,error:A.message}}finally{o(!1)}},[]),T=i.useCallback(async C=>{try{o(!0),x(null);const S=await q(I.COMMUNITY.ALERTS,C);if(S.ok){const A=await S.json();return c(M=>[A,...M]),{success:!0,alert:A}}else{const A=await S.json();throw new Error(A.message||"Failed to create alert")}}catch(S){return x(S.message),{success:!1,error:S.message}}finally{o(!1)}},[]),v=i.useCallback(async()=>{await Promise.all([y(),w(),p(),g()])},[y,w,p,g]),u=i.useCallback(()=>x(null),[]);return{reports:s,trendingThreats:a,communityStats:l,alerts:d,isLoading:m,error:j,fetchReports:y,fetchTrendingThreats:w,fetchCommunityStats:p,fetchAlerts:g,createReport:b,voteOnReport:k,verifyReport:h,addComment:_,createAlert:T,loadAllData:v,clearError:u}};function wr(){const{isAuthenticated:s}=he(),{reports:t,trendingThreats:a,communityStats:r,alerts:l,isLoading:n,error:d,loadAllData:c,createReport:m,voteOnReport:o,verifyReport:j,addComment:x,createAlert:y,clearError:w}=Nr(),[p,g]=i.useState(!1),[b,k]=i.useState(!1),[h,_]=i.useState({title:"",description:"",threat_type:"phishing",severity:"medium",location:"",evidence:""}),[T,v]=i.useState({title:"",message:"",priority:"medium"}),[u,C]=i.useState("");i.useEffect(()=>{s&&c()},[c,s]);const S=async f=>{f.preventDefault(),(await m(h)).success&&(g(!1),_({title:"",description:"",threat_type:"phishing",severity:"medium",location:"",evidence:""}))},A=async f=>{f.preventDefault(),(await y(T)).success&&(k(!1),v({title:"",message:"",priority:"medium"}))},M=async(f,P)=>{await o(f,P)},R=async f=>{await j(f,{verified:!0})},N=async f=>{u.trim()&&(await x(f,{comment:u}),C(""))};if(!s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Login required to access Community"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please log in to view and contribute to community reports"})]})});if(n)return e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading community data..."})]})});if(d){const f=d.includes("Token is missing")||d.includes("401")||d.includes("Unauthorized");return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("span",{className:"text-red-800",children:f?"Authentication Required":d})]}),e.jsx("p",{className:"text-red-700 text-sm mt-2",children:f?"Please log in to access community features. Your session may have expired.":""}),e.jsx("div",{className:"flex gap-2 mt-3",children:f?e.jsx(U,{onClick:()=>window.location.reload(),variant:"outline",size:"sm",children:"Go to Login"}):e.jsx(U,{onClick:w,variant:"outline",size:"sm",children:"Dismiss"})})]})}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Threat Reporting"}),e.jsx("p",{className:"text-gray-600",children:"Report threats, share insights, and help protect the community"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(U,{onClick:()=>g(!0),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Report Threat"]}),e.jsxs(U,{onClick:()=>k(!0),variant:"outline",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Create Alert"]})]})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(L,{className:"p-4",children:e.jsxs(V,{className:"flex items-center",children:[e.jsx(Be,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.active_members||0})]})]})}),e.jsx(L,{className:"p-4",children:e.jsxs(V,{className:"flex items-center",children:[e.jsx(Z,{className:"h-8 w-8 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Reports"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.total_reports||0})]})]})}),e.jsx(L,{className:"p-4",children:e.jsxs(V,{className:"flex items-center",children:[e.jsx(ke,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Verified Threats"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.verified_threats||0})]})]})}),e.jsx(L,{className:"p-4",children:e.jsxs(V,{className:"flex items-center",children:[e.jsx(Y,{className:"h-8 w-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Protected Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.protected_users||0})]})]})})]}),e.jsxs(L,{className:"p-6",children:[e.jsxs(V,{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Trending Threats"}),e.jsx(fe,{className:"h-5 w-5 text-orange-500"})]}),e.jsx(K,{children:e.jsx("div",{className:"space-y-3",children:a&&a.length>0?a.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ya,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600",children:f.description})]})]}),e.jsx(ys,{variant:f.severity==="high"?"destructive":f.severity==="medium"?"default":"secondary",children:f.severity})]},f.id)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No trending threats at the moment"})})})]}),e.jsxs(L,{className:"p-6",children:[e.jsxs(V,{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Reports"}),e.jsx(U,{onClick:c,variant:"outline",size:"sm",children:"Refresh"})]}),e.jsx(K,{children:e.jsx("div",{className:"space-y-4",children:t&&t.length>0?t.map(f=>{var P,O;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:f.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Type: ",f.threat_type]}),e.jsxs("span",{children:["Location: ",f.location]}),e.jsxs("span",{children:["Reported: ",new Date(f.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ys,{variant:f.severity==="high"?"destructive":f.severity==="medium"?"default":"secondary",children:f.severity}),f.verification_status==="verified"&&e.jsx(ke,{className:"h-4 w-4 text-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(U,{onClick:()=>M(f.id,"upvote"),variant:"ghost",size:"sm",className:f.user_vote==="upvote"?"text-green-600":"",children:[e.jsx(Qa,{className:"h-4 w-4 mr-1"}),((P=f.votes)==null?void 0:P.upvotes)||0]}),e.jsxs(U,{onClick:()=>M(f.id,"downvote"),variant:"ghost",size:"sm",className:f.user_vote==="downvote"?"text-red-600":"",children:[e.jsx(Ja,{className:"h-4 w-4 mr-1"}),((O=f.votes)==null?void 0:O.downvotes)||0]})]}),f.verification_status!=="verified"&&e.jsxs(U,{onClick:()=>R(f.id),variant:"outline",size:"sm",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"Verify"]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:f.reporter_name||"Anonymous"})]}),f.comments&&f.comments.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Comments"}),e.jsx("div",{className:"space-y-2",children:f.comments.map((D,z)=>e.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[e.jsxs("span",{className:"font-medium",children:[D.user_name||"Anonymous",":"]})," ",D.comment]},z))})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(te,{placeholder:"Add a comment...",value:u,onChange:D=>C(D.target.value),className:"flex-1"}),e.jsx(U,{onClick:()=>N(f.id),size:"sm",disabled:!u.trim(),children:"Comment"})]})})]},f.id)}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No reports yet. Be the first to report a threat!"})})})]}),e.jsxs(L,{className:"p-6",children:[e.jsx(V,{className:"flex items-center justify-between mb-4",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Community Alerts"})}),e.jsx(K,{children:e.jsx("div",{className:"space-y-3",children:l&&l.length>0?l.map(f=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(me,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:f.title}),e.jsx("p",{className:"text-sm text-blue-800",children:f.message}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-blue-600",children:[e.jsxs("span",{children:["Priority: ",f.priority]}),e.jsx("span",{children:new Date(f.created_at).toLocaleDateString()})]})]})]},f.id)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No active alerts"})})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report New Threat"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsx(te,{placeholder:"Threat Title",value:h.title,onChange:f=>_({...h,title:f.target.value}),required:!0}),e.jsx(Pe,{placeholder:"Detailed Description",value:h.description,onChange:f=>_({...h,description:f.target.value}),required:!0,rows:4}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("select",{value:h.threat_type,onChange:f=>_({...h,threat_type:f.target.value}),className:"border border-gray-300 rounded-md px-3 py-2",children:[e.jsx("option",{value:"phishing",children:"Phishing"}),e.jsx("option",{value:"malware",children:"Malware"}),e.jsx("option",{value:"scam",children:"Scam"}),e.jsx("option",{value:"social_engineering",children:"Social Engineering"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsxs("select",{value:h.severity,onChange:f=>_({...h,severity:f.target.value}),className:"border border-gray-300 rounded-md px-3 py-2",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsx(te,{placeholder:"Location/URL",value:h.location,onChange:f=>_({...h,location:f.target.value})}),e.jsx(Pe,{placeholder:"Evidence or Additional Details",value:h.evidence,onChange:f=>_({...h,evidence:f.target.value}),rows:3}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(U,{type:"submit",className:"flex-1",children:"Submit Report"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg mx-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create Community Alert"}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsx(te,{placeholder:"Alert Title",value:T.title,onChange:f=>v({...T,title:f.target.value}),required:!0}),e.jsx(Pe,{placeholder:"Alert Message",value:T.message,onChange:f=>v({...T,message:f.target.value}),required:!0,rows:4}),e.jsxs("select",{value:T.priority,onChange:f=>v({...T,priority:f.target.value}),className:"border border-gray-300 rounded-md px-3 py-2 w-full",children:[e.jsx("option",{value:"low",children:"Low Priority"}),e.jsx("option",{value:"medium",children:"Medium Priority"}),e.jsx("option",{value:"high",children:"High Priority"}),e.jsx("option",{value:"urgent",children:"Urgent"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(U,{type:"submit",className:"flex-1",children:"Create Alert"}),e.jsx(U,{type:"button",variant:"outline",onClick:()=>k(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})}const js=()=>{const[s,t]=i.useState(null),[a,r]=i.useState(!0),[l,n]=i.useState(null);i.useEffect(()=>{d()},[]);const d=async()=>{try{r(!0);const o=await B.get(I.ADMIN.DASHBOARD);if(o.ok){const j=await o.json();j?(t(j),n(null)):(console.error("Unexpected dashboard response format:",j),n("Invalid response format from server"))}else console.error("Response not ok:",o.status,o.statusText),n(`Server error: ${o.status} ${o.statusText}`)}catch(o){console.error("Dashboard error:",o),n(`Failed to load dashboard statistics: ${o.message||"Unknown error"}`)}finally{r(!1)}};if(a)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(l)return e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:["⚠️ ",l]}),e.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]});if(!s)return null;const c=({title:o,value:j,icon:x,color:y,subtitle:w})=>e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-3 rounded-full ${y} mr-4`,children:e.jsx("span",{className:"text-2xl",children:x})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:o}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j}),w&&e.jsx("p",{className:"text-xs text-gray-500",children:w})]})]})}),m=({percentage:o,label:j})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:j}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[o.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"System overview and key metrics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c,{title:"Total Users",value:s.users.total,icon:"👥",color:"bg-blue-100 text-blue-600",subtitle:`${s.users.active} active`}),e.jsx(c,{title:"Total Scans",value:s.scans.total,icon:"🔍",color:"bg-green-100 text-green-600",subtitle:`${s.scans.today} today`}),e.jsx(c,{title:"High Risk Scans",value:s.scans.high_risk,icon:"⚠️",color:"bg-red-100 text-red-600",subtitle:`${(s.scans.high_risk/s.scans.total*100).toFixed(1)}% of total`}),e.jsx(c,{title:"Community Reports",value:s.community.total_reports,icon:"📢",color:"bg-purple-100 text-purple-600",subtitle:`${s.community.pending} pending`})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"New Users Today"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:s.users.new_today})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Suspended Users"}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:s.users.suspended})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Active Users"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:s.users.active})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Learning Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Completion Rate"}),e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[s.learning.completion_rate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Completed Modules"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:s.learning.completed})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Progress"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:s.learning.total_progress})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Community Reports"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s.community.total_reports}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Reports"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s.community.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending Review"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.community.verified}),e.jsx("div",{className:"text-sm text-gray-600",children:"Verified"})]})]}),s.community.total_reports>0&&e.jsx("div",{className:"mt-6",children:e.jsx(m,{percentage:s.community.verified/s.community.total_reports*100,label:"Verification Rate"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("button",{className:"bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"📊 View User Reports"}),e.jsx("button",{className:"bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"🔧 System Maintenance"}),e.jsx("button",{className:"bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"📈 Export Data"})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]})};function Te({isOpen:s,onClose:t,title:a,children:r,showCloseButton:l=!0,size:n="default"}){if(i.useEffect(()=>{const c=m=>{m.key==="Escape"&&t()};return s&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[s,t]),!s)return null;const d={sm:"max-w-md",default:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:t}),e.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl w-full ${d[n]} max-h-[90vh] overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a}),l&&e.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(ts,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:r})]})]})}const kr=()=>{const[s,t]=i.useState([]),[a,r]=i.useState({}),[l,n]=i.useState(!0),[d,c]=i.useState(null),[m,o]=i.useState([]),[j,x]=i.useState(!1),[y,w]=i.useState(null),[p,g]=i.useState(!1),[b,k]=i.useState(""),[h,_]=i.useState(!1),[T,v]=i.useState(!1),[u,C]=i.useState({new_password:"",confirm_password:""}),[S,A]=i.useState({email:"",password:"",first_name:"",last_name:"",role:"USER",risk_level:"MEDIUM",account_status:"ACTIVE",is_active:!0,is_admin:!1}),[M,R]=i.useState({page:1,per_page:20,role:"",status:"",search:""});i.useEffect(()=>{N()},[M]);const N=async()=>{try{n(!0);const E=new URLSearchParams;Object.entries(M).forEach(([G,je])=>{je&&E.append(G,je)});const F=await B.get(`${I.ADMIN.USERS}?${E}`);if(F.ok){const G=await F.json();G&&G.users?(t(G.users),r(G.pagination||{}),c(null)):(console.error("Unexpected response format:",G),c("Invalid response format from server"))}else console.error("Response not ok:",F.status,F.statusText),c(`Server error: ${F.status} ${F.statusText}`)}catch(E){console.error("Users error:",E),c(`Failed to load users: ${E.message||"Unknown error"}`)}finally{n(!1)}},f=async(E,F)=>{try{let G="",je="POST";switch(F){case"suspend":G=`${I.ADMIN.USER_SUSPEND}/${E}/suspend`;break;case"activate":G=`${I.ADMIN.USER_ACTIVATE}/${E}/activate`;break;case"delete":G=`${I.ADMIN.USER_DELETE}/${E}`,je="DELETE";break;default:return}const as=await B.request({method:je,url:G});if(as.ok)N(),c(null);else{const Ys=await as.json();c(Ys.error||"Action failed")}}catch(G){console.error("Action error:",G),c(`Failed to perform action: ${G.message||"Unknown error"}`)}},P=async()=>{try{if(u.new_password!==u.confirm_password){c("Passwords do not match");return}if(u.new_password.length<8){c("Password must be at least 8 characters long");return}const E=await B.post(`${I.ADMIN.USER_RESET_PASSWORD}/${y.id}/reset-password`,{new_password:u.new_password});if(E.ok)v(!1),C({new_password:"",confirm_password:""}),c(null),N();else{const F=await E.json();c(F.error||"Password reset failed")}}catch(E){console.error("Password reset error:",E),c(`Failed to reset password: ${E.message||"Unknown error"}`)}},O=async()=>{try{if(!b)return;const E=await B.post(I.ADMIN.BULK_ACTION,{user_ids:m,action:b});if(E.ok)g(!1),k(""),o([]),N(),c(null);else{const F=await E.json();c(F.error||"Bulk action failed")}}catch(E){console.error("Bulk action error:",E),c(`Failed to perform bulk action: ${E.message||"Unknown error"}`)}},D=async()=>{try{if(u.new_password!==u.confirm_password){c("Passwords do not match");return}if(u.new_password.length<8){c("Password must be at least 8 characters long");return}const E=await B.post(I.ADMIN.BULK_RESET_PASSWORD,{user_ids:m,new_password:u.new_password});if(E.ok)v(!1),C({new_password:"",confirm_password:""}),o([]),N(),c(null);else{const F=await E.json();c(F.error||"Bulk password reset failed")}}catch(E){console.error("Bulk password reset error:",E),c(`Failed to reset passwords: ${E.message||"Unknown error"}`)}},z=async()=>{try{if(!S.email||!S.password||!S.first_name||!S.last_name){alert("Please fill in all required fields");return}const E=await B.post(I.ADMIN.CREATE_USER,S);if(E.ok){const F=await E.json();alert(`User created successfully: ${F.user.email}`),A({email:"",password:"",first_name:"",last_name:"",role:"USER",risk_level:"MEDIUM",account_status:"ACTIVE",is_active:!0,is_admin:!1}),_(!1),N()}else{const F=await E.json();alert(`Failed to create user: ${F.error||"Unknown error"}`)}}catch(E){console.error("Create user error:",E),alert(`Failed to create user: ${E.message||"Unknown error"}`)}},ne=E=>{o(F=>F.includes(E)?F.filter(G=>G!==E):[...F,E])},Gs=()=>{m.length===s.length?o([]):o(s.map(E=>E.id))},xe=E=>{R(F=>({...F,...E,page:1}))},Vs=({user:E})=>e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:m.includes(E.id),onChange:()=>ne(E.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[E.first_name," ",E.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.role==="ADMIN"?"bg-purple-100 text-purple-800":E.role==="MODERATOR"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.role}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.account_status==="ACTIVE"?"bg-green-100 text-green-800":E.account_status==="SUSPENDED"?"bg-red-100 text-red-800":E.account_status==="BANNED"?"bg-red-200 text-red-900":"bg-gray-100 text-gray-800"}`,children:E.account_status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{w(E),x(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:F=>{F.target.value==="reset-password"?(w(E),v(!0)):f(E.id,F.target.value)},className:"text-sm border rounded px-2 py-1",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),e.jsx("option",{value:"reset-password",children:"Reset Password"}),E.account_status==="ACTIVE"&&e.jsx("option",{value:"suspend",children:"Suspend"}),E.account_status==="SUSPENDED"&&e.jsx("option",{value:"activate",children:"Activate"}),e.jsx("option",{value:"delete",children:"Delete"})]})})]})]})}),qs=()=>e.jsx(Te,{isOpen:j,onClose:()=>x(!1),title:"User Details",children:y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsxs("p",{className:"text-gray-900",children:[y.first_name," ",y.last_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:y.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),e.jsx("p",{className:"text-gray-900",children:y.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"text-gray-900",children:y.account_status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Risk Level"}),e.jsx("p",{className:"text-gray-900",children:y.risk_level})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(y.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{v(!0)},className:"bg-yellow-600 text-white px-3 py-2 rounded text-sm hover:bg-yellow-700",children:"Reset Password"}),y.account_status==="ACTIVE"&&e.jsx("button",{onClick:()=>{f(y.id,"suspend"),x(!1)},className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700",children:"Suspend"}),y.account_status==="SUSPENDED"&&e.jsx("button",{onClick:()=>{f(y.id,"activate"),x(!1)},className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700",children:"Activate"}),e.jsx("button",{onClick:()=>{f(y.id,"delete"),x(!1)},className:"bg-gray-600 text-white px-3 py-2 rounded text-sm hover:bg-gray-700",children:"Delete"})]})]})]})}),Ws=()=>e.jsx(Te,{isOpen:p,onClose:()=>g(!1),title:"Bulk Actions",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Action for ",m.length," selected users"]}),e.jsxs("select",{value:b,onChange:E=>k(E.target.value),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Select action..."}),e.jsx("option",{value:"reset-passwords",children:"Reset Passwords"}),e.jsx("option",{value:"suspend",children:"Suspend"}),e.jsx("option",{value:"activate",children:"Activate"}),e.jsx("option",{value:"delete",children:"Delete"})]})]}),b==="reset-passwords"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:u.new_password,onChange:E=>C({...u,new_password:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Enter new password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:u.confirm_password,onChange:E=>C({...u,confirm_password:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Confirm new password"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:b==="reset-passwords"?D:O,disabled:!b||b==="reset-passwords"&&(!u.new_password||!u.confirm_password),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:b==="reset-passwords"?"Reset Passwords":"Apply Action"}),e.jsx("button",{onClick:()=>g(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})}),Ks=()=>e.jsx(Te,{isOpen:T,onClose:()=>{v(!1),C({new_password:"",confirm_password:""})},title:`Reset Password${m.length>1?"s":""}`,children:e.jsxs("div",{className:"space-y-4",children:[y&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:m.length>1?`Resetting password for ${m.length} selected users`:`Resetting password for ${y.email}`})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:u.new_password,onChange:E=>C({...u,new_password:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Enter new password"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:u.confirm_password,onChange:E=>C({...u,confirm_password:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Confirm new password"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:m.length>1?D:P,disabled:!u.new_password||!u.confirm_password,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 disabled:bg-gray-400",children:["Reset Password",m.length>1?"s":""]}),e.jsx("button",{onClick:()=>{v(!1),C({new_password:"",confirm_password:""})},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>{_(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Create User"}),m.length>0&&e.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:["Bulk Actions (",m.length,")"]}),m.length>0&&e.jsxs("button",{onClick:()=>v(!0),className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700",children:["Reset Passwords (",m.length,")"]}),e.jsx("button",{onClick:N,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Refresh"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Name or email...",value:M.search,onChange:E=>xe({search:E.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:M.role,onChange:E=>xe({role:E.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"MODERATOR",children:"Moderator"}),e.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:M.status,onChange:E=>xe({status:E.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"SUSPENDED",children:"Suspended"}),e.jsx("option",{value:"BANNED",children:"Banned"}),e.jsx("option",{value:"DELETED",children:"Deleted"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:M.per_page,onChange:E=>xe({per_page:parseInt(E.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Users (",a.total||0,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:m.length===s.length&&s.length>0,onChange:Gs,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Select All"})]})]})}),e.jsx("div",{className:"p-6",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:["⚠️ ",d]}),e.jsx("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No users found matching your criteria"}):e.jsx("div",{children:s.map(E=>e.jsx(Vs,{user:E},E.id))})})]}),a.pages>1&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.per_page+1," to"," ",Math.min(a.page*a.per_page,a.total)," of"," ",a.total," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>xe({page:a.page-1}),disabled:a.page<=1,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-gray-700",children:["Page ",a.page," of ",a.pages]}),e.jsx("button",{onClick:()=>xe({page:a.page+1}),disabled:a.page>=a.pages,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Next"})]})]})}),e.jsx(qs,{}),e.jsx(Ws,{}),e.jsx(Ks,{}),e.jsx(Te,{isOpen:h,onClose:()=>{_(!1)},title:"Create New User",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:S.email,onChange:E=>A({...S,email:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"user@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),e.jsx("input",{type:"password",value:S.password,onChange:E=>A({...S,password:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Enter password"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",value:S.first_name,onChange:E=>A({...S,first_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",value:S.last_name,onChange:E=>A({...S,last_name:E.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Doe"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:S.role,onChange:E=>A({...S,role:E.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"MODERATOR",children:"Moderator"}),e.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Level"}),e.jsxs("select",{value:S.risk_level,onChange:E=>A({...S,risk_level:E.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:S.account_status,onChange:E=>A({...S,account_status:E.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"SUSPENDED",children:"Suspended"}),e.jsx("option",{value:"BANNED",children:"Banned"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:S.is_active,onChange:E=>A({...S,is_active:E.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Account is active"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"is_admin",checked:S.is_admin,onChange:E=>A({...S,is_admin:E.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_admin",className:"text-sm font-medium text-gray-700",children:"Admin privileges"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Create User"}),e.jsx("button",{onClick:()=>_(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})})]})},Cr=()=>{const[s,t]=i.useState([]),[a,r]=i.useState({}),[l,n]=i.useState(!0),[d,c]=i.useState(null),[m,o]=i.useState([]),[j,x]=i.useState(!1),[y,w]=i.useState(null),[p,g]=i.useState(!1),[b,k]=i.useState(""),[h,_]=i.useState({page:1,per_page:20,status:"",urgency:"",threat_type:"",verified:""});i.useEffect(()=>{T()},[h]);const T=async()=>{try{n(!0);const f=new URLSearchParams;Object.entries(h).forEach(([O,D])=>{D&&f.append(O,D)});const P=await B.get(`/api/admin/community-reports?${f}`);t(P.data.reports),r(P.data.pagination),c(null)}catch(f){c("Failed to load community reports"),console.error("Reports error:",f)}finally{n(!1)}},v=async(f,P)=>{var O,D;try{let z="",ne="POST";switch(P){case"verify":z=`/api/admin/community-reports/${f}/verify`;break;case"reject":z=`/api/admin/community-reports/${f}/reject`;break;case"escalate":z=`/api/admin/community-reports/${f}/escalate`;break;case"delete":z=`/api/admin/community-reports/${f}`,ne="DELETE";break;default:return}await B.request({method:ne,url:z}),T(),o([])}catch(z){console.error("Report action error:",z),alert(`Failed to ${P} report: ${((D=(O=z.response)==null?void 0:O.data)==null?void 0:D.error)||z.message}`)}},u=async()=>{var f,P;if(!(!b||m.length===0))try{await B.post("/api/admin/community-reports/bulk-action",{report_ids:m,action:b}),T(),o([]),g(!1),k("")}catch(O){console.error("Bulk action error:",O),alert(`Failed to perform bulk action: ${((P=(f=O.response)==null?void 0:f.data)==null?void 0:P.error)||O.message}`)}},C=f=>{o(P=>P.includes(f)?P.filter(O=>O!==f):[...P,f])},S=()=>{m.length===s.length?o([]):o(s.map(f=>f.id))},A=f=>{_(P=>({...P,...f,page:1}))},M=({report:f})=>e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:m.includes(f.id),onChange:()=>C(f.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.urgency==="HIGH"?"bg-red-100 text-red-800":f.urgency==="MEDIUM"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.urgency}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.status==="PENDING"?"bg-yellow-100 text-yellow-800":f.status==="VERIFIED"?"bg-green-100 text-green-800":f.status==="REJECTED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status}),f.verified&&e.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"✓ Verified"})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:f.threat_type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:f.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Location: ",f.location||"N/A"]}),e.jsxs("span",{children:["Votes: +",f.votes_up," / -",f.votes_down]}),e.jsxs("span",{children:["Created: ",new Date(f.created_at).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{w(f),x(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:P=>v(f.id,P.target.value),className:"text-sm border rounded px-2 py-1",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),f.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"verify",children:"Verify"}),e.jsx("option",{value:"reject",children:"Reject"}),e.jsx("option",{value:"escalate",children:"Escalate"})]}),e.jsx("option",{value:"delete",children:"Delete"})]})})]})]})}),R=()=>e.jsx(oe,{isOpen:j,onClose:()=>x(!1),title:"Report Details",children:y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Threat Type"}),e.jsx("p",{className:"text-gray-900",children:y.threat_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Urgency"}),e.jsx("p",{className:"text-gray-900",children:y.urgency})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"text-gray-900",children:y.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Verified"}),e.jsx("p",{className:"text-gray-900",children:y.verified?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),e.jsx("p",{className:"text-gray-900",children:y.location||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(y.created_at).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:y.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Up Votes"}),e.jsx("p",{className:"text-gray-900",children:y.votes_up})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Down Votes"}),e.jsx("p",{className:"text-gray-900",children:y.votes_down})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex space-x-2",children:[y.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{v(y.id,"verify"),x(!1)},className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700",children:"Verify"}),e.jsx("button",{onClick:()=>{v(y.id,"reject"),x(!1)},className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700",children:"Reject"}),e.jsx("button",{onClick:()=>{v(y.id,"escalate"),x(!1)},className:"bg-yellow-600 text-white px-3 py-2 rounded text-sm hover:bg-yellow-700",children:"Escalate"})]}),e.jsx("button",{onClick:()=>{v(y.id,"delete"),x(!1)},className:"bg-gray-600 text-white px-3 py-2 rounded text-sm hover:bg-gray-700",children:"Delete"})]})]})]})}),N=()=>e.jsx(oe,{isOpen:p,onClose:()=>g(!1),title:"Bulk Actions",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Action for ",m.length," selected reports"]}),e.jsxs("select",{value:b,onChange:f=>k(f.target.value),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"Select action..."}),e.jsx("option",{value:"verify",children:"Verify"}),e.jsx("option",{value:"reject",children:"Reject"}),e.jsx("option",{value:"escalate",children:"Escalate"}),e.jsx("option",{value:"delete",children:"Delete"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:u,disabled:!b,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:"Apply Action"}),e.jsx("button",{onClick:()=>g(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Reports"}),e.jsx("p",{className:"text-gray-600",children:"Manage and moderate community threat reports"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[m.length>0&&e.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:["Bulk Actions (",m.length,")"]}),e.jsx("button",{onClick:T,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Refresh"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:h.status,onChange:f=>A({status:f.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"VERIFIED",children:"Verified"}),e.jsx("option",{value:"REJECTED",children:"Rejected"}),e.jsx("option",{value:"ESCALATED",children:"Escalated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Urgency"}),e.jsxs("select",{value:h.urgency,onChange:f=>A({urgency:f.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Urgencies"}),e.jsx("option",{value:"HIGH",children:"High"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"LOW",children:"Low"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Threat Type"}),e.jsxs("select",{value:h.threat_type,onChange:f=>A({threat_type:f.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"PHISHING",children:"Phishing"}),e.jsx("option",{value:"MALWARE",children:"Malware"}),e.jsx("option",{value:"SCAM",children:"Scam"}),e.jsx("option",{value:"SOCIAL_ENGINEERING",children:"Social Engineering"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Verified"}),e.jsxs("select",{value:h.verified,onChange:f=>A({verified:f.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Verified Only"}),e.jsx("option",{value:"false",children:"Unverified Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:h.per_page,onChange:f=>A({per_page:parseInt(f.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Reports (",a.total||0,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:m.length===s.length&&s.length>0,onChange:S,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Select All"})]})]})}),e.jsx("div",{className:"p-6",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:["⚠️ ",d]}),e.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):s.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No reports found matching your criteria"}):e.jsx("div",{children:s.map(f=>e.jsx(M,{report:f},f.id))})})]}),a.pages>1&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.per_page+1," to"," ",Math.min(a.page*a.per_page,a.total)," of"," ",a.total," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>A({page:a.page-1}),disabled:a.page<=1,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-gray-700",children:["Page ",a.page," of ",a.pages]}),e.jsx("button",{onClick:()=>A({page:a.page+1}),disabled:a.page>=a.pages,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Next"})]})]})}),e.jsx(R,{}),e.jsx(N,{})]})},Sr=()=>{const[s,t]=i.useState([]),[a,r]=i.useState({}),[l,n]=i.useState(!0),[d,c]=i.useState(null),[m,o]=i.useState(!1),[j,x]=i.useState(!1),[y,w]=i.useState(null),[p,g]=i.useState({title:"",description:"",content:"",difficulty:"BEGINNER",estimated_time:"",is_active:!0}),[b,k]=i.useState({page:1,per_page:20,difficulty:"",status:"",search:""});i.useEffect(()=>{h()},[b]);const h=async()=>{try{n(!0);const R=new URLSearchParams;Object.entries(b).forEach(([f,P])=>{P&&R.append(f,P)});const N=await B.get(`/api/admin/learning-modules?${R}`);t(N.data.modules||[]),r(N.data.pagination),c(null)}catch(R){c("Failed to load learning modules"),console.error("Modules error:",R)}finally{n(!1)}},_=async()=>{var R,N;try{const f={...p,estimated_time:parseInt(p.estimated_time)||0,content:JSON.parse(p.content||"{}")};await B.post("/api/admin/learning-modules",f),g({title:"",description:"",content:"",difficulty:"BEGINNER",estimated_time:"",is_active:!0}),o(!1),h()}catch(f){console.error("Create module error:",f),alert("Failed to create module: "+(((N=(R=f.response)==null?void 0:R.data)==null?void 0:N.error)||f.message))}},T=async()=>{var R,N;try{const f={...p,estimated_time:parseInt(p.estimated_time)||0,content:JSON.parse(p.content||"{}")};await B.put(`/api/admin/learning-modules/${y.id}`,f),x(!1),w(null),h()}catch(f){console.error("Update module error:",f),alert("Failed to update module: "+(((N=(R=f.response)==null?void 0:R.data)==null?void 0:N.error)||f.message))}},v=async(R,N)=>{var f,P;try{let O="",D="POST";switch(N){case"deactivate":O=`/api/admin/learning-modules/${R}/deactivate`;break;case"activate":O=`/api/admin/learning-modules/${R}/activate`;break;case"delete":O=`/api/admin/learning-modules/${R}`,D="DELETE";break;default:return}await B.request({method:D,url:O}),h()}catch(O){console.error("Module action error:",O),alert(`Failed to ${N} module: ${((P=(f=O.response)==null?void 0:f.data)==null?void 0:P.error)||O.message}`)}},u=R=>{var N;w(R),g({title:R.title,description:R.description,content:JSON.stringify(R.content,null,2),difficulty:R.difficulty,estimated_time:((N=R.estimated_time)==null?void 0:N.toString())||"",is_active:R.is_active}),x(!0)},C=R=>{k(N=>({...N,...R,page:1}))},S=({module:R})=>e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${R.difficulty==="BEGINNER"?"bg-green-100 text-green-800":R.difficulty==="INTERMEDIATE"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:R.difficulty}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${R.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.is_active?"Active":"Inactive"})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:R.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:R.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Time: ",R.estimated_time||"N/A"," min"]}),e.jsxs("span",{children:["Created: ",new Date(R.created_at).toLocaleDateString()]}),e.jsxs("span",{children:["Updated: ",R.updated_at?new Date(R.updated_at).toLocaleDateString():"Never"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>u(R),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:N=>v(R.id,N.target.value),className:"text-sm border rounded px-2 py-1",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),R.is_active&&e.jsx("option",{value:"deactivate",children:"Deactivate"}),!R.is_active&&e.jsx("option",{value:"activate",children:"Activate"}),e.jsx("option",{value:"delete",children:"Delete"})]})})]})]})}),A=()=>e.jsx(oe,{isOpen:m,onClose:()=>o(!1),title:"Create Learning Module",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",value:p.title,onChange:R=>g(N=>({...N,title:R.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"Module title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:p.description,onChange:R=>g(N=>({...N,description:R.target.value})),className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"Module description",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty *"}),e.jsxs("select",{value:p.difficulty,onChange:R=>g(N=>({...N,difficulty:R.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Time (min)"}),e.jsx("input",{type:"number",value:p.estimated_time,onChange:R=>g(N=>({...N,estimated_time:R.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"30",min:"1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (JSON)"}),e.jsx("textarea",{value:p.content,onChange:R=>g(N=>({...N,content:R.target.value})),className:"w-full border rounded-lg px-3 py-2 font-mono text-sm",rows:6,placeholder:'{"sections": [], "quiz": []}'}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter valid JSON content structure"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:p.is_active,onChange:R=>g(N=>({...N,is_active:R.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Module is active"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:_,disabled:!p.title||!p.description,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:"Create Module"}),e.jsx("button",{onClick:()=>o(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})}),M=()=>e.jsx(oe,{isOpen:j,onClose:()=>x(!1),title:"Edit Learning Module",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",value:p.title,onChange:R=>g(N=>({...N,title:R.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"Module title",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{value:p.description,onChange:R=>g(N=>({...N,description:R.target.value})),className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"Module description",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty *"}),e.jsxs("select",{value:p.difficulty,onChange:R=>g(N=>({...N,difficulty:R.target.value})),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Time (min)"}),e.jsx("input",{type:"number",value:p.estimated_time,onChange:R=>g(N=>({...N,estimated_time:R.target.value})),className:"w-full border rounded-lg px-3 py-2",placeholder:"30",min:"1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (JSON)"}),e.jsx("textarea",{value:p.content,onChange:R=>g(N=>({...N,content:R.target.value})),className:"w-full border rounded-lg px-3 py-2 font-mono text-sm",rows:6,placeholder:'{"sections": [], "quiz": []}'}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter valid JSON content structure"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"edit_is_active",checked:p.is_active,onChange:R=>g(N=>({...N,is_active:R.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"edit_is_active",className:"ml-2 text-sm text-gray-700",children:"Module is active"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:T,disabled:!p.title||!p.description,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400",children:"Update Module"}),e.jsx("button",{onClick:()=>x(!1),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Cancel"})]})})]})});return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:["⚠️ ",d]}),e.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Learning Module Management"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage learning content for users"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"+ Create Module"}),e.jsx("button",{onClick:h,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Refresh"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Title or description...",value:b.search,onChange:R=>C({search:R.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),e.jsxs("select",{value:b.difficulty,onChange:R=>C({difficulty:R.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Difficulties"}),e.jsx("option",{value:"BEGINNER",children:"Beginner"}),e.jsx("option",{value:"INTERMEDIATE",children:"Intermediate"}),e.jsx("option",{value:"ADVANCED",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:b.status,onChange:R=>C({status:R.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Page"}),e.jsxs("select",{value:b.per_page,onChange:R=>C({per_page:parseInt(R.target.value)}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Learning Modules (",a.total||0,")"]})}),e.jsx("div",{className:"p-6",children:s.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No learning modules found matching your criteria"}):e.jsx("div",{children:s.map(R=>e.jsx(S,{module:R},R.id))})})]}),a.pages>1&&e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.per_page+1," to"," ",Math.min(a.page*a.per_page,a.total)," of"," ",a.total," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>C({page:a.page-1}),disabled:a.page<=1,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-gray-700",children:["Page ",a.page," of ",a.pages]}),e.jsx("button",{onClick:()=>C({page:a.page+1}),disabled:a.page>=a.pages,className:"px-3 py-2 border rounded-lg disabled:bg-gray-100 disabled:text-gray-400",children:"Next"})]})]})}),e.jsx(A,{}),e.jsx(M,{})]})},Er=()=>{const[s,t]=i.useState(null),[a,r]=i.useState([]),[l,n]=i.useState([]),[d,c]=i.useState(!0),[m,o]=i.useState(null),[j,x]=i.useState(!1),[y,w]=i.useState(!1),[p,g]=i.useState(null),[b,k]=i.useState(null),[h,_]=i.useState([]);i.useEffect(()=>{T()},[]);const T=async()=>{try{c(!0);const[N,f,P]=await Promise.all([B.get("/api/admin/system-stats"),B.get("/api/admin/threats"),B.get("/api/admin/learning-modules")]);t(N.data),r(f.data.threats||[]),n(P.data.modules||[]),o(null)}catch(N){o("Failed to load system data"),console.error("System data error:",N)}finally{c(!1)}},v=async()=>{try{const N=await B.post("/api/admin/maintenance/cleanup");_(f=>[{action:"System Cleanup",timestamp:new Date().toISOString(),details:N.data.message,deleted_scans:N.data.deleted_scans,deleted_reports:N.data.deleted_reports},...f]),T()}catch(N){console.error("Cleanup error:",N),alert("Failed to perform system cleanup")}},u=async(N,f)=>{var P,O;try{let D="",z="POST";switch(f){case"deactivate":D=`/api/admin/threats/${N}/deactivate`;break;case"activate":D=`/api/admin/threats/${N}/activate`;break;case"delete":D=`/api/admin/threats/${N}`,z="DELETE";break;default:return}await B.request({method:z,url:D});const ne=await B.get("/api/admin/threats");r(ne.data.threats||[])}catch(D){console.error("Threat action error:",D),alert(`Failed to ${f} threat: ${((O=(P=D.response)==null?void 0:P.data)==null?void 0:O.error)||D.message}`)}},C=async(N,f)=>{var P,O;try{let D="",z="POST";switch(f){case"deactivate":D=`/api/admin/learning-modules/${N}/deactivate`;break;case"activate":D=`/api/admin/learning-modules/${N}/activate`;break;case"delete":D=`/api/admin/learning-modules/${N}`,z="DELETE";break;default:return}await B.request({method:z,url:D});const ne=await B.get("/admin/learning-modules");n(ne.data.modules||[])}catch(D){console.error("Module action error:",D),alert(`Failed to ${f} module: ${((O=(P=D.response)==null?void 0:P.data)==null?void 0:O.error)||D.message}`)}},S=({threat:N})=>e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.risk_level==="HIGH"?"bg-red-100 text-red-800":N.risk_level==="MEDIUM"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:N.risk_level}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.status})]}),e.jsx("h4",{className:"font-medium text-gray-900 mt-2",children:N.type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Region: ",N.region||"Global"]}),e.jsxs("span",{children:["Impact: ",N.impact_score||"N/A"]}),e.jsxs("span",{children:["Affected: ",N.affected_users||0]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{g(N),x(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:f=>u(N.id,f.target.value),className:"text-sm border rounded px-2 py-1",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),N.status==="ACTIVE"&&e.jsx("option",{value:"deactivate",children:"Deactivate"}),N.status==="INACTIVE"&&e.jsx("option",{value:"activate",children:"Activate"}),e.jsx("option",{value:"delete",children:"Delete"})]})})]})]})}),A=({module:N})=>e.jsx("div",{className:"bg-white border rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.difficulty==="BEGINNER"?"bg-green-100 text-green-800":N.difficulty==="INTERMEDIATE"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.difficulty}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.is_active?"Active":"Inactive"})]}),e.jsx("h4",{className:"font-medium text-gray-900 mt-2",children:N.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["Time: ",N.estimated_time||"N/A"," min"]}),e.jsxs("span",{children:["Created: ",new Date(N.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{k(N),w(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:f=>C(N.id,f.target.value),className:"text-sm border rounded px-2 py-1",defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Actions"}),N.is_active&&e.jsx("option",{value:"deactivate",children:"Deactivate"}),!N.is_active&&e.jsx("option",{value:"activate",children:"Activate"}),e.jsx("option",{value:"delete",children:"Delete"})]})})]})]})}),M=()=>e.jsx(oe,{isOpen:j,onClose:()=>x(!1),title:"Threat Details",children:p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),e.jsx("p",{className:"text-gray-900",children:p.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Risk Level"}),e.jsx("p",{className:"text-gray-900",children:p.risk_level})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"text-gray-900",children:p.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Region"}),e.jsx("p",{className:"text-gray-900",children:p.region||"Global"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impact Score"}),e.jsx("p",{className:"text-gray-900",children:p.impact_score||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Affected Users"}),e.jsx("p",{className:"text-gray-900",children:p.affected_users||0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:p.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reported At"}),e.jsx("p",{className:"text-gray-900",children:new Date(p.reported_at).toLocaleString()})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex space-x-2",children:[p.status==="ACTIVE"&&e.jsx("button",{onClick:()=>{u(p.id,"deactivate"),x(!1)},className:"bg-yellow-600 text-white px-3 py-2 rounded text-sm hover:bg-yellow-700",children:"Deactivate"}),p.status==="INACTIVE"&&e.jsx("button",{onClick:()=>{u(p.id,"activate"),x(!1)},className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700",children:"Activate"}),e.jsx("button",{onClick:()=>{u(p.id,"delete"),x(!1)},className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700",children:"Delete"})]})]})]})}),R=()=>e.jsx(oe,{isOpen:y,onClose:()=>w(!1),title:"Learning Module Details",children:b&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("p",{className:"text-gray-900",children:b.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Difficulty"}),e.jsx("p",{className:"text-gray-900",children:b.difficulty})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("p",{className:"text-gray-900",children:b.is_active?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estimated Time"}),e.jsxs("p",{className:"text-gray-900",children:[b.estimated_time||"N/A"," minutes"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),e.jsx("p",{className:"text-gray-900",children:new Date(b.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:b.description})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"flex space-x-2",children:[b.is_active&&e.jsx("button",{onClick:()=>{C(b.id,"deactivate"),w(!1)},className:"bg-yellow-600 text-white px-3 py-2 rounded text-sm hover:bg-yellow-700",children:"Deactivate"}),!b.is_active&&e.jsx("button",{onClick:()=>{C(b.id,"activate"),w(!1)},className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700",children:"Activate"}),e.jsx("button",{onClick:()=>{C(b.id,"delete"),w(!1)},className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700",children:"Delete"})]})]})]})});return d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:["⚠️ ",m]}),e.jsx("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"System Maintenance"}),e.jsx("p",{className:"text-gray-600",children:"Monitor and maintain system health and security"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:e.jsx("span",{className:"text-2xl",children:"💾"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Size"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.database_size)||"N/A"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600 mr-4",children:e.jsx("span",{className:"text-2xl",children:"🔄"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Status"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.system_status)||"Healthy"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4",children:e.jsx("span",{className:"text-2xl",children:"📊"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Performance"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.performance_score)||"N/A","%"]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Maintenance Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"🧹 Perform System Cleanup"}),e.jsx("button",{onClick:T,className:"bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors",children:"🔄 Refresh System Data"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Active Threats (",a.filter(N=>N.status==="ACTIVE").length,")"]})}),e.jsx("div",{className:"p-6",children:a.filter(N=>N.status==="ACTIVE").length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active threats detected"}):e.jsx("div",{children:a.filter(N=>N.status==="ACTIVE").map(N=>e.jsx(S,{threat:N},N.id))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Learning Modules (",l.length,")"]})}),e.jsx("div",{className:"p-6",children:l.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No learning modules found"}):e.jsx("div",{children:l.map(N=>e.jsx(A,{module:N},N.id))})})]}),h.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Maintenance Log"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:h.map((N,f)=>e.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.action}),e.jsx("p",{className:"text-sm text-gray-600",children:N.details}),N.deleted_scans&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Deleted ",N.deleted_scans," old scans, ",N.deleted_reports," old reports"]})]}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(N.timestamp).toLocaleString()})]})},f))})})]}),e.jsx(M,{}),e.jsx(R,{})]})};function Hs({setActiveTab:s}){const[t,a]=i.useState(!1),r=[{label:"Breach Checker",tab:"breach"},{label:"Scam Analysis",tab:"scam"},{label:"Threat Intel",tab:"threats"},{label:"Risk Profile",tab:"profile"},{label:"Community",tab:"community"},{label:"AI Assistant",tab:"chat"},{label:"Learn Hub",tab:"learn"}];return e.jsx("header",{className:"bg-white shadow-sm border-b md:hidden",children:e.jsxs("div",{className:"px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/remaleh-logo.png",alt:"Remaleh Protect",className:"h-8 w-auto mr-2"}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Remaleh Protect"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(Ua,{className:"w-5 h-5 text-gray-600"})}),e.jsx(U,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(ss,{className:"w-5 h-5 text-gray-600"})}),e.jsx(U,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>a(!t),children:t?e.jsx(ts,{className:"w-5 h-5 text-gray-600"}):e.jsx(qa,{className:"w-5 h-5 text-gray-600"})})]})]}),t&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsx("nav",{className:"space-y-1",children:r.map(l=>e.jsx("button",{onClick:()=>{s&&s(l.tab),a(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:l.label},l.label))})})]})})}function zs({activeTab:s,setActiveTab:t,user:a}){const r=[{id:"breach",label:"Breach",icon:Y,color:"text-blue-600"},{id:"scam",label:"Scam",icon:Y,color:"text-red-600"},{id:"threats",label:"Intel",icon:Ga,color:"text-green-600"},{id:"profile",label:"Profile",icon:ss,color:"text-purple-600"},{id:"community",label:"Community",icon:Be,color:"text-orange-600"},{id:"chat",label:"AI Chat",icon:me,color:"text-indigo-600"},{id:"learn",label:"Learn",icon:we,color:"text-teal-600"},...a!=null&&a.is_admin?[{id:"admin",label:"Admin",icon:Wa,color:"text-gray-600"}]:[]];return e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50",children:[e.jsx("div",{className:"flex justify-around items-center py-2 px-1",children:r.map(l=>{const n=l.icon,d=s===l.id;return e.jsxs("button",{onClick:()=>t(l.id),className:`flex flex-col items-center justify-center w-16 h-16 rounded-xl transition-all duration-200 ${d?"bg-blue-50 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(n,{className:`w-6 h-6 mb-1 ${d?l.color:""}`}),e.jsx("span",{className:`text-xs font-medium ${d?l.color:""}`,children:l.label})]},l.id)})}),e.jsx("div",{className:"h-4 bg-white"})]})}const Rr=()=>{const{user:s,isAuthenticated:t}=he(),[a,r]=i.useState("dashboard"),[l,n]=i.useState(!0);if(i.useEffect(()=>{t&&s&&n(!1)},[t,s]),!l&&(!t||!(s!=null&&s.is_admin)))return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this panel."})]})});if(l)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading admin panel..."})]})});const d=[{id:"dashboard",label:"Dashboard",icon:"📊"},{id:"users",label:"Users",icon:"👥"},{id:"reports",label:"Reports",icon:"📋"},{id:"learning",label:"Learning",icon:"📚"},{id:"maintenance",label:"Maintenance",icon:"🔧"}],c=()=>{switch(a){case"dashboard":return e.jsx(js,{});case"users":return e.jsx(kr,{});case"reports":return e.jsx(Cr,{});case"learning":return e.jsx(Sr,{});case"maintenance":return e.jsx(Er,{});default:return e.jsx(js,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Hs,{title:"Admin Panel"}),e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:d.map(m=>e.jsxs("button",{onClick:()=>r(m.id),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${a===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:m.icon}),m.label]},m.id))})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:c()}),e.jsx(zs,{})]})},Ar=({onLoginSuccess:s,onSwitchToRegister:t})=>{const[a,r]=i.useState({email:"",password:""}),[l,n]=i.useState(!1),{login:d,error:c,user:m,isAuthenticated:o}=he();i.useEffect(()=>{o&&m&&s&&s()},[o,m,s]);const j=async y=>{y.preventDefault(),n(!0),await d(a.email,a.password),n(!1)},x=y=>{r({...a,[y.target.name]:y.target.value})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:"/remaleh-logo.png",alt:"Remaleh Protect",className:"h-12 w-auto"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your digital security dashboard"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{className:"space-y-6",onSubmit:j,children:[c&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:x,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:x,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your password"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"New to Remaleh Protect?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>{t&&t()},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create an account"})})]})]})})]})},_r=({onRegisterSuccess:s})=>{const[t,a]=i.useState({first_name:"",last_name:"",email:"",password:"",confirm_password:""}),[r,l]=i.useState({}),[n,d]=i.useState(!1),{register:c,error:m,user:o,isAuthenticated:j}=he();i.useEffect(()=>{j&&o&&s&&s()},[j,o,s]);const x=()=>{const p={};return t.first_name.trim()||(p.first_name="First name is required"),t.last_name.trim()||(p.last_name="Last name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(p.email="Email is invalid"):p.email="Email is required",t.password?t.password.length<8&&(p.password="Password must be at least 8 characters"):p.password="Password is required",t.password!==t.confirm_password&&(p.confirm_password="Passwords do not match"),l(p),Object.keys(p).length===0},y=async p=>{if(p.preventDefault(),!x())return;d(!0);const g={first_name:t.first_name.trim(),last_name:t.last_name.trim(),email:t.email.trim().toLowerCase(),password:t.password};await c(g),d(!1)},w=p=>{a({...t,[p.target.name]:p.target.value}),r[p.target.name]&&l({...r,[p.target.name]:""})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:"/remaleh-logo.png",alt:"Remaleh Protect",className:"h-12 w-auto"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Remaleh Protect for enhanced digital security"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{className:"space-y-6",onSubmit:y,children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:m})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first_name",name:"first_name",type:"text",autoComplete:"given-name",required:!0,value:t.first_name,onChange:w,className:`appearance-none block w-full px-3 py-2 border rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r.first_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your first name"})}),r.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last_name",name:"last_name",type:"text",autoComplete:"family-name",required:!0,value:t.last_name,onChange:w,className:`appearance-none block w-full px-3 py-2 border rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r.last_name?"border-red-300":"border-gray-300"}`,placeholder:"Enter your last name"})}),r.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:w,className:`appearance-none block w-full px-3 py-2 border rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email address"})}),r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:w,className:`appearance-none block w-full px-3 py-2 border rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r.password?"border-red-300":"border-gray-300"}`,placeholder:"Create a strong password"})}),r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"confirm_password",name:"confirm_password",type:"password",autoComplete:"new-password",required:!0,value:t.confirm_password,onChange:w,className:`appearance-none block w-full px-3 py-2 border rounded-md placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${r.confirm_password?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password"})}),r.confirm_password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirm_password})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>s(),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in instead"})})]})]})})]})};function Tr({onAction:s}){const[t,a]=i.useState(!1),r=[{icon:Z,label:"Report Threat",action:"report-threat",color:"bg-red-500 hover:bg-red-600",delay:"delay-100"},{icon:me,label:"Ask AI",action:"ask-ai",color:"bg-blue-500 hover:bg-blue-600",delay:"delay-200"},{icon:Y,label:"Quick Scan",action:"quick-scan",color:"bg-green-500 hover:bg-green-600",delay:"delay-300"}],l=n=>{a(!1),s&&s(n)};return e.jsxs("div",{className:"fixed bottom-20 right-4 md:hidden z-40",children:[t&&e.jsx("div",{className:"mb-4 space-y-3",children:r.map(n=>{const d=n.icon;return e.jsxs("div",{className:`transform transition-all duration-300 ${n.delay} ${t?"translate-x-0 opacity-100":"translate-x-4 opacity-0"}`,children:[e.jsx(U,{onClick:()=>l(n.action),className:`${n.color} text-white shadow-lg w-12 h-12 rounded-full flex items-center justify-center`,children:e.jsx(d,{className:"w-5 h-5"})}),e.jsx("span",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:n.label})]},n.action)})}),e.jsx(U,{onClick:()=>a(!t),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg w-14 h-14 rounded-full flex items-center justify-center transition-all duration-300",children:e.jsx(es,{className:`w-6 h-6 transition-transform duration-300 ${t?"rotate-45":"rotate-0"}`})})]})}function Mr(){const[s,t]=i.useState("breach"),{user:a,isAuthenticated:r}=he();i.useEffect(()=>{a&&(console.log("=== APP COMPONENT DEBUG ==="),console.log("User object:",a),console.log("User is_admin:",a.is_admin),console.log("User role:",a.role),console.log("Is authenticated:",r),console.log("=========================="))},[a,r]);const l=[{id:"breach",label:"Breach Checker",icon:"🔒"},{id:"scam",label:"Scam Analysis",icon:"🚨"},{id:"threats",label:"Threat Intel",icon:"📊"},{id:"profile",label:"Risk Profile",icon:"👤"},{id:"community",label:"Community",icon:"👥"},{id:"chat",label:"AI Assistant",icon:"🤖"},{id:"learn",label:"Learn Hub",icon:"📚"},...a!=null&&a.is_admin?[{id:"admin",label:"Admin",icon:"⚙️"}]:[]],n=()=>{switch(s){case"breach":return e.jsx(gs,{});case"scam":return e.jsx(ir,{});case"threats":return e.jsx(yr,{});case"profile":return e.jsx(vr,{});case"community":return e.jsx(wr,{});case"chat":return e.jsx(cr,{});case"learn":return e.jsx(dr,{});case"admin":return e.jsx(Rr,{});case"login":return e.jsx(Ar,{onLoginSuccess:()=>{a!=null&&a.is_admin?t("admin"):t("breach")},onSwitchToRegister:()=>t("register")});case"register":return e.jsx(_r,{onRegisterSuccess:()=>{t("login")}});default:return e.jsx(gs,{})}};return e.jsx(Ma,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Hs,{setActiveTab:t}),e.jsx("header",{className:"bg-white shadow-sm border-b hidden md:block",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/remaleh-logo.png",alt:"Remaleh Protect",className:"h-8 w-auto mr-3"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Remaleh Protect"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Your Digital Security Companion"}),r?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",a!=null&&a.is_admin?"Admin":(a==null?void 0:a.first_name)||"User",(a==null?void 0:a.is_admin)&&e.jsx("span",{className:"ml-2 text-blue-600 font-semibold",children:"(Admin)"})]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),window.location.reload()},className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Logout"})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t("login"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Login"}),e.jsx("button",{onClick:()=>t("register"),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Sign Up"})]})]})]})})}),e.jsx("nav",{className:"bg-white border-b hidden md:block",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-8",children:l.map(d=>e.jsxs("button",{onClick:()=>t(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===d.id?"border-[#21a1ce] text-[#21a1ce]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.id))})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 pb-24 md:pb-6",children:n()}),e.jsx("footer",{className:"bg-white border-t mt-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center text-sm text-gray-500",children:[e.jsx("p",{children:"© 2024 Remaleh Protect. All rights reserved."}),e.jsx("p",{className:"mt-1",children:"Built with ❤️ for digital security and privacy"})]})})}),e.jsx(zs,{activeTab:s,setActiveTab:t,user:a}),e.jsx(Tr,{onAction:d=>{switch(d){case"report-threat":t("community");break;case"ask-ai":t("chat");break;case"quick-scan":t("breach");break}}})]})})}We.createRoot(document.getElementById("root")).render(e.jsx(Xs.StrictMode,{children:e.jsx(Na,{children:e.jsx(Mr,{})})}));
